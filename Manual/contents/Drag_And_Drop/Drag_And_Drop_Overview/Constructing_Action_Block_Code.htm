<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Конструирование кода блока действий</title>
  <meta name="generator" content="Adobe RoboHelp 2020" />
  <link rel="stylesheet" href="../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Article explaining how to construct DnD code" />
  <meta name="rh-index-keywords" content="DnD™ Overview - Constructing Action Block Code" />
  <meta name="search-keywords" content="DnD,Code DnD,Construct DnD,DnD™ Comments" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Конструирование кода блока действий</h1>
  <p>Чтобы добавить поведение к объектам, вы можете построить свой код, используя <strong>действия </strong>из различных библиотек, доступных вам из <strong>панели Action Toolbox</strong>. Для начала вам нужно создать новый <a href="../../Introduction/The_Start_Page.htm"> <span class="notranslate">проект</span> Drag <span class="notranslate">and Drop</span></a>, а затем создать новый <a href="../../The_Asset_Editors/Objects.htm">объект (</a> <a href="../../The_Asset_Editors/Sprites.htm">при</a> необходимости вы можете назначить объекту спрайт). В новом объекте вы можете начать добавлять <a href="../../The_Asset_Editors/Object_Properties/Object_Events.htm">события</a>,
    и в событиях добавлять свои действия из кода <span class="notranslate">DnD™</span>.</p>
  <p><img alt="DnD™ Create Event" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Create_Event.png">Обратите внимание, что при добавлении нового события открывается окно &quot;код&quot; с вкладкой для данного события (см. изображение
    выше), и теперь вы можете перетащить любое действие из панели инструментов справа в панель Action Block окна кода. Теперь, хотя это правда, что вы можете добавить любое действие, это не означает, что все они будут работать или что проект будет
    скомпилируется. Для работы некоторых действий требуется хотя бы одна <a class="glossterm" data-glossterm="переменная" href="#">переменная</a>, а другие - например, действия <a href="../Drag_And_Drop_Reference/Drawing/Drawing_Actions.htm">Draw</a> - будут работать только в том случае.
    будут работать только при использовании в определенном событии. Как узнать, какие из них использовать? В общем, это просто вопрос логики... Если действие требует переменную, а мы ее еще не определили, то мы не должны ее использовать, пока не добавим действие для создания переменной.
    добавить действие для создания переменной.</p>
  <p>Когда вы перетащите действие из панели инструментов в основное рабочее пространство блока действий, оно развернется и покажет вам доступные <a class="glossterm" data-glossterm="аргумент" href="#">аргументы</a>(параметры), которые вы можете заполнить и изменить, чтобы задать поведение.
    и изменить, чтобы задать поведение. На изображении ниже мы перетащили действие <a href="../Drag_And_Drop_Reference/Common/Assign_Variable.htm">Assign Variable</a> из <a href="../Drag_And_Drop_Reference/Common/Common_Actions_Library.htm">библиотеки</a> Toolbox <a href="../Drag_And_Drop_Reference/Common/Common_Actions_Library.htm">Common</a> в
    рабочую область блока действий:</p>
  <p><img alt="DnD™ Assign Variable" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Add_Var.png">Вы можете видеть, что новое действие также отображается слева от окна кода в сокращенном виде. Этот список действий,
    называемый "Обзор действий", можно щелкнуть, чтобы быстро перейти к этому действию для редактирования. При необходимости вы можете продолжать добавлять действия к событию, при этом каждое новое действие будет &quot;привязано&quot; к предыдущему, чтобы показать поток
    кода <span class="notranslate">DnD™</span>, который вы создаете. Обратите внимание, что область, в которую можно добавлять последующие действия, выделена под начальным действием, и, в зависимости от используемого действия, будут выделены различные области, чтобы показать, в каком месте цепочки вы можете его добавить.
    добавить его:</p>
  <p><img alt="DnD™ Set Direction Variable" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Set_Dir.png">По мере добавления действий в рабочую область они будут &quot;примыкать&quot; к действиям выше, чтобы вы могли видеть, как
    код <span class="notranslate">DnD™</span>, где одно действие ведет к другому, а панель обзора показывает их в сокращенном виде и в порядке выполнения:</p>
  <p><img alt="DnD™ chain of actions" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Scope_Other.png">Некоторые действия будут размещать код в отдельной цепочке в стороне от основного потока - такие вещи, как <a href="../Drag_And_Drop_Reference/Common/If_Variable.htm">If Variable</a>, будут
    создают <em>подцепочку</em> действий, которые должны произойти при выполнении правильных условий, прежде чем продолжить основную цепочку:</p>
  <p><img alt="DnD™ side chain of actions" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_If_Variable.png">Обратите внимание, что при использовании действий, которые могут иметь боковой блок цепочки, как в данном случае, действие будет иметь <em>две </em>области
    выделенные для отбрасывания дальнейших действий:</p>
  <ul class="colour">
    <li>Один под действием, как обычно</li>
    <li>Один справа от действия, чтобы показать, что вы хотите создать отдельный блок действий для выполнения, когда условие первого действия возвращает true</li>
  </ul>
  <p><img alt="DnD™ Side Chain Of Actions" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_If_Drop.png">Вы можете изменить положение действий в цепочке, просто щелкнув <img alt="LMB Icon" class="icon" height="24" src="../../assets/Images/Icons/Icon_LMB.png" width="21"> и перетащив их в нужное вам новое положение, а если вы сделаете щелчок <img alt="LMB Icon" class="icon" height="24" src="../../assets/Images/Icons/Icon_LMB.png" width="21"> и
    удерживать в течение секунды, а затем переместить мышь, вы можете перемещать действие в пределах рабочей области, сохраняя его место в цепочке блоков действий.</p>
  <p>Также можно добавлять <strong>комментарии</strong> к действиям <span class="notranslate">Drag and Drop™</span>, поэтому вы можете оставлять заметки рядом с различными блоками, чтобы объяснить, что они делают (что особенно полезно при работе в команде):</p>
  <p><img alt="DnD™ Add Comment" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Add_Comment.gif">Подробнее об этой функции можно узнать на странице, посвященной <a href="Right_Mouse_Button_Menu_Options.htm">меню правой кнопки мыши</a>.</p>
  <p>Это основы использования редактора кода Drag <span class="notranslate">and Drop</span>, но есть и другие важные детали, о которых рассказано в следующих разделах:</p>
  <p> </p>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down1" href="#">Целевые переменные</a></p>
  <div class="droptext" data-targetname="drop-down1">
    <p class="dropspot">Важно отметить, что многие действия предлагают переменную &quot;цель&quot;, которая может быть помечена, например, как &quot;Временная&quot;:</p>
    <p class="dropspot"><img alt="Example Of Target" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Audio_Get_Audio_Volume.png">Это означает, что вы можете предоставить переменную, которая является целью для хранения значения, возвращаемого действием
      действием. В приведенном выше примере действие возвращает громкость аудиоресурса, который вы выбрали, поэтому вы предоставляете переменную target для хранения этого значения, чтобы вы могли сослаться на него позже.</p>
    <p class="dropspot">Теперь эта целевая переменная должна быть объявлена ранее либо с помощью <a href="../Drag_And_Drop_Reference/Common/Assign_Variable.htm">Assign Variable</a> (которая создает <strong>переменную экземпляра</strong>), либо <a href="../Drag_And_Drop_Reference/Common/Declare_Temporary_Variable.htm">Declare Temporary Variable</a> (которая создает локальную временную переменную).
      Если вы отметите опцию &quot;Temp&quot;, то вы можете просто добавить имя переменной, и действие создаст эту переменную и установит ее для хранения возвращаемого значения (создав временную локальную <strong>переменную</strong>).
      переменную). Любые действия, используемые после этого, теперь могут получить доступ к значению временной переменной, <strong>но только в рамках одного события или сценария</strong>. Временные переменные доступны только в той области видимости, в которой они были созданы. Для получения более подробной
      информацию о переменных и области действия переменных можно найти <a href="../../GameMaker_Language/GML_Overview/Variables_And_Variable_Scope.htm">здесь</a>.</p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down2" href="#">Сфера действия</a></p>
  <div class="droptext" data-targetname="drop-down2">
    <p class="dropspot">Не только переменные имеют области видимости (см. раздел " <strong>Целевые переменные </strong>", выше), действия также могут иметь различные области видимости. Фактически, почти все действия могут иметь различные области действия, задаваемые в выпадающем окне, открываемом в самом действии.
      как показано здесь:</p>
    <p class="dropspot"><img alt="DnD™ Applies To" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Applies_To.png">Вы также можете установить область действия для всех последующих действий с помощью специального действия " <a href="../Drag_And_Drop_Reference/Common/Apply_To...htm">Применить к</a>".
      Подробнее об этой особенности действий <span class="notranslate">DnD™</span>см. здесь:</p>
    <ul class="dropspotlist">
      <li class="dropspot"><a href="Applying_Actions_To_Other_Instances.htm">Применение действий к другим экземплярам</a></li>
    </ul>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down3" href="#">Автокомплект</a></p>
  <div class="droptext" data-targetname="drop-down3">
    <p class="dropspot">При работе с <span class="notranslate">Drag and Drop</span> вам придется добавлять переменные и выражения в различные поля ввода действий. Однако при этом часто появляется окно <strong>Auto Complete</strong>, которое поможет вам:</p>
    <p class="dropspot"><img alt="Auto Complete" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Action_AutoComplete.png">В этом всплывающем окне будут перечислены все встроенные в <span class="notranslate">GML</span><span class="notranslate">(GameMaker Language</span>) переменные, константы и функции, а также
      а также все ресурсы, которые содержат начальные буквы того, что вы вводили. С его помощью можно быстро найти нужный ресурс или переменную для действия без необходимости вводить их самостоятельно. Например, если все ваши комнаты
      имеют префикс &quot;<span class="inline">rm_</span>&quot;, то, набрав его и подождав некоторое время, вы увидите окно автозаполнения со всеми ресурсами, начинающимися с &quot;<span class="inline">rm_</span>&quot;. Обратите внимание, что все встроенные переменные
      которые отображаются в окне автозаполнения, могут быть использованы в любом месте, где в действии ожидается переменная или выражение, как и большинство функций <span class="notranslate">GML</span>.</p>
    <p class="dropspot"> </p>
  </div>
  <p><a class="dropspot" data-rhwidget="DropSpot" data-target="drop-down4" href="#">Расширение действия</a></p>
  <div class="droptext" data-targetname="drop-down4">
    <p class="dropspot">Иногда при использовании действия вы увидите маленький значок плюса <img alt="Expand Arguments Icon" src="../../assets/Images/Icons/Icon_Expand_Arguments.png"> сбоку. Это означает, что вы можете расширить действие, чтобы выполнить дополнительные задачи или принять дополнительные
      аргументы. Например, если вы посмотрите на действие <a href="../Drag_And_Drop_Reference/Common/Declare_Temporary_Variable.htm">Declare Temporary Variables</a>, вы увидите, что у него есть этот значок:</p>
    <p class="dropspot"><img alt="Temp Variable Expansion" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Declare_Temp_Var.png">Когда вы щелкните по значку, действие <em>расширится </em>и позволит вам объявить больше переменных, делая
      проще и быстрее определять несколько переменных одновременно.</p>
    <p class="dropspot"><img alt="Temp Variable Expansion Example" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Expansion_Example.png">Значок также можно использовать для тех действий, которые требуют <strong>необязательных </strong>аргументов,
      например, действие <a href="../Drag_And_Drop_Reference/Random/Choose.htm">Choose</a>, которое позволяет добавлять различные значения для возврата:</p>
    <p class="dropspot"><img alt="Choose Expansion Example" class="center" src="../../assets/Images/Scripting_Reference/Drag_And_Drop/Overview/DnD_Mathematics_Choose.png" /></p>
  </div>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="../../Content.htm">Указатель</a></div>
        <div style="float:right">Следующее: <a href="Applying_Actions_To_Other_Instances.htm">Применение действий к другим экземплярам</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
<span class="notranslate">Drag And Drop</span> Construction
-->
  <!-- TAGS
drag_and_drop_construction
-->

</body></html>