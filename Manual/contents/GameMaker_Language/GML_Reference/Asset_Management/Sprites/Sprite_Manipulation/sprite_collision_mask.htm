<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>sprite_collision_mask</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining the function sprite_collision_mask" />
  <meta name="rh-index-keywords" content="sprite_collision_mask" />
  <meta name="search-keywords" content="sprite_collision_mask" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>sprite_collision_mask</h1>
  <p>С помощью этой функции можно задать свойства маски столкновений, которую должен иметь спрайт. Если вы выбрали автоматический режим (0) или режим полного изображения (1) в качестве режима ограничивающей рамки, то значения отдельных ограничивающих рамок могут быть установлены на 0. Однако для пользовательской маски (2) вам придется установить эти значения.
    пользовательской маски (2) вам придется установить эти значения. Различные значения граничной области всегда относятся к левому верхнему углу спрайта (независимо от начала координат x и y), который считается позицией (0, 0).</p>
  <p>Установка вида маски задает общую форму самой маски, но учтите, что любая маска, кроме прямоугольной, потребует больше вычислительной мощности при разрешении столкновений, что приведет к падению производительности. В общем, следует
    использовать типы масок, отличные от прямоугольной, только в случае крайней необходимости.</p>
  <p class="note"><b>ПРИМЕЧАНИЕ</b>: Эта функция не позволяет использовать вид маски столкновения с <b>повернутым прямоугольником</b>.</p>
  <p>Тип маски, которую можно установить, будет одной из следующих констант:</p>
  <table>
    <tbody>
      <tr>
        <th>Постоянная</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td><tt>bboxkind_rectangular</tt></td>
        <td>Прямоугольная (не вращающаяся) форма маски столкновения с прямоугольником</td>
      </tr>
      <tr>
        <td><tt>bboxkind_ellipse</tt></td>
        <td>Эллиптическая форма маски столкновений</td>
      </tr>
      <tr>
        <td><tt>bboxkind_diamond</tt></td>
        <td>Форма маски столкновения с алмазом</td>
      </tr>
      <tr>
        <td><tt>bboxkind_precise</tt></td>
        <td>Точная маска столкновений, где маска будет соответствовать непрозрачным пикселям спрайта, основываясь на заданном значении допуска (см. ниже)).</td>
      </tr>
    </tbody>
  </table>
  <p><br> Наконец, допуск используется для определения степени точности маски (при использовании маски &quot;полное изображение&quot; это не будет иметь никакого эффекта), при этом допуск 0 означает, что маска будет следовать за каждым пикселем, имеющим прозрачность
    больше 0, в то время как другие значения будут смещать периметр маски столкновений в зависимости от прозрачности пикселей.</p>
  <p class="note"><b>ПРИМЕЧАНИЕ</b>: Эта функция полезна только для <b>растровых</b> спрайтов и не работает со спрайтами SWF или JSON (Spine).</p>
  <p class="note"><b>ПРИМЕЧАНИЕ</b>: Эта функция будет работать только с добавленными спрайтами или дублированными спрайтами, а <b>не</b> непосредственно с предварительно созданными ресурсами. Вы можете дублировать спрайты с помощью функции <span style="font-size:1px;"><a href="sprite_duplicate.htm"><tt style="font-size: 14px">sprite_duplicate()</tt></a></span>.</p>
  <p> </p>
  <h4>Синтаксис:</h4>
  <p class="code">sprite_collision_mask(ind, sepmasks, bboxmode, bbleft, bbtop, bbright, bbbottom, kind, tolerance);</p>
  <table>
    <tbody>
      <tr>
        <th>Аргумент</th>
        <th>Описание</th>
      </tr>
      <tr>
        <td>инд</td>
        <td>Индекс спрайта, для которого нужно установить ограничивающую рамку.</td>
      </tr>
      <tr>
        <td>сепмаск</td>
        <td>Создавать ли маски столкновений для каждого подизображения спрайта<tt>(true</tt>), или одну маску для всех<tt>(false</tt>).</td>
      </tr>
      <tr>
        <td>bboxmode</td>
        <td>Какой тип ограничивающей рамки использовать. 0 = автоматическое, 1 = полное изображение, 2 = определенное пользователем.</td>
      </tr>
      <tr>
        <td>bbleft</td>
        <td>Максимальное левое положение ограничивающей рамки.</td>
      </tr>
      <tr>
        <td>bbtop</td>
        <td>Максимальное верхнее положение ограничивающей рамки.</td>
      </tr>
      <tr>
        <td>bbright</td>
        <td>Максимальное правое положение ограничивающей рамки.</td>
      </tr>
      <tr>
        <td>bbbottom</td>
        <td>Максимальное нижнее положение ограничивающей рамки.</td>
      </tr>
      <tr>
        <td>добрый</td>
        <td>Вид маски, константа (см. таблицу в описании).</td>
      </tr>
      <tr>
        <td>допуск</td>
        <td>Указывает допуск в значении прозрачности (0=без допуска, 255=полный допуск).</td>
      </tr>
    </tbody>
  </table>
  <p> </p>
  <h4>Возвращает</h4>
  <p class="code">Н/Д</p>
  <p> </p>
  <h4>Пример:</h4>
  <p class="code">spr = sprite_add(&quot;player_5.png&quot;, 16, true, true, 0, 0, 0);<br> sprite_collision_mask(spr, true, 1, 0, 0, 0, 0, 0, 0, 0);</p>
  <p>Приведенный выше код загружает спрайт из внешнего источника и сохраняет новый индекс в переменной &quot;spr&quot;. Затем код устанавливает для нового спрайта точную маску столкновений для каждого из его суб-изображений.</p>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Назад: <a href="Sprite_Manipulation.htm">Манипуляция спрайтом</a></div>
        <div style="float:right">Далее: <a href="sprite_nineslice_create.htm">sprite_nineslice_create</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Все права защищены</span></h5>
  </div>
  <!-- KEYWORDS
sprite_collision_mask
-->
  <!-- TAGS
sprite_collision_mask
-->
</body>
</html>