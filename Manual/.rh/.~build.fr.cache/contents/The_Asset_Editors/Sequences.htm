
  
  Редактор последовательностей
  
   Последовательность - это, по сути, набор активов, которые выполняют динамическую анимацию во времени. Они могут содержать спрайты, объекты, звуки и другие вещи, и каждый из них может быть настроен на движение, изменение цвета или начало/остановку анимации
    с течением времени в самой последовательности. Активы, которые вы добавляете, назначаются определенным дорожкам в последовательности, и к этим дорожкам могут быть применены различные атрибуты, называемые ключевые кадры - которые могут быть статичными
    или изменяться во времени. Все редактирование последовательности происходит в редакторе после довательностей, который состоит из трех областей:
  
     холст - где вы размещаете активы, составляющие последовательность
     панель дорожек - где вы добавляете/удаляете дорожки активов и дорожки параметров в вашей последовательности
    Лист допинга - где вы добавляете/удаляете/редактируете ключевые кадры дорожки и контролируете их поведение с течением времени.
  
  Обратите внимание, что последовательности можно располагать внутри последовательностей для создания сложных анимаций и эффектов, а доступ к последовательностям и их изменение можно осуществлять с помощью кода, чтобы обеспечить максимальный контроль над тем, как они будут отображаться и использоваться в вашей игре.
    Более подробную информацию о кодовом аспекте последовательностей можно найти в разделе " Функции последовательностей".
  Прежде чем продолжить объяснение деталей редактора, мы уделим немного времени объяснению того, как создается последовательность, а также некоторых ключевых слов, которые используются в описаниях, чтобы вы имели более глубокое понимание того, как работает редактор последовательностей
    работает. Общий процесс создания последовательности выглядит следующим образом:
  
    Сначала вы создадите последовательность в браузере активов, в результате чего откроется редактор последовательностей.
    Затем перетащите актив (спрайт, объект, звук или последовательность) на холст редактора.
    Это создаст дорожку актива на панели дорожек и добавит ключ актива в файл Dope Sheet. Дорожка актива - это просто название дорожки, содержащей актив, а ключ актива - это полоса, которая рисуется для обозначения количества кадров, на которых актив будет анимирован в последовательности.
    На этом этапе обычно требуется расположить актив на холсте в исходном положении для начала последовательности и добавить любые начальные преобразования, такие как масштабирование или вращение.
    Когда вы будете довольны начальными настройками, вы захотите записать ключи параметров (или ключевой кадрs) - это просто название, данное
      значения масштаба, поворота и положения, которые имеет конкретный ключ актива в любой точке временной шкалы dope sheet.
    Затем вы измените положение головки воспроизведения ( текущая позиция воспроизведения на временной шкале dope sheet ), а затем переместите или измените преобразования актива и запишите еще один ключ параметра.
    Все ключи параметров хранятся в дополнительных дорожках параметров, которые являются подмножеством дорожек под основной дорожкой актива на панели дорожек, и вы можете редактировать данные ключей параметров для
      каждого параметра в редакторе дорожек.
    Теперь вы повторяете вышеописанный процесс в течение всей последовательности, перемещая, вращая и масштабируя актив по мере необходимости, а затем добавляя другие активы по мере необходимости.
  
  Ниже представлен обзор каждой из функций редактора последовательностей, а в нижней части этой страницы находятся ссылки на страницы, где более подробно описаны три основные функции, упомянутые выше:
   
  Линейки / направляющие
  
    Линейки вдоль края холста показывают положение объектов, размещенных на нем, и отмечены от (0, 0), которая является центром холста и началом последовательности по умолчанию. Вы можете нажать и перетащить линейки, чтобы вытянуть
      горизонтальную или вертикальную направляющую в последовательность, и эта направляющая может быть использована для точного позиционирования различных используемых активов, так как перемещение актива вблизи одной из них "привяжет" его к направляющей. Во время позиционирования
      в последовательности, умные направляющие также будут временно отображаться, указывая расстояние между активами, а также расстояние от границы последовательности или центральной точки.
    Обратите внимание, что граница последовательности и маркерные линии центральной точки последовательности также считаются
      направляющими и ведут себя так же, как направляющие, добавленные с помощью линеек, за исключением того, что их нельзя редактировать.
    Расстояние, на котором активы "привязываются" к направляющим, а также другие свойства можно задать в настройках последовательностей.
     
  
  Вид на холст
  
    Вид холста - это место предварительного просмотра холста последовательности, где вы можете редактировать и размещать различные активы, составляющие вашу последовательность. Вы можете добавить актив в последовательность, просто перетащив его из браузера активов, а затем
      Это создаст новую дорожку на панели дорожек, а также добавит ключ актива в текущее положение головки воспроизведения на шкале времени. Следующие активы могут быть перенесены на холст таким образом:
    
      Спрайты
      Объекты
      Звуки
      Последовательности
    
    Каждый актив, добавленный на холст, можно манипулировать различными способами - поворачивать, трансформировать или переводить - в зависимости от того, как вы с ним взаимодействуете, поскольку каждый актив будет иметь ограничивающую рамку и  механизмы трансформации, а также элементы управления ограничивающей рамкой. Все это более подробно описано на странице, посвященной холсту редактора последовательностей.
    ПРИМЕЧАНИЕ: Звуковые активы при добавлении в последовательность являются, по сути, звуковыми излучателями , которые воспроизводят только заданный звуковой ресурс.
    Для перемещения по холсту можно использовать те же основные элементы управления, что и для общих рабочих пространств, то есть: используйте среднюю кнопку мыши  и перетащите ее для панорамирования холста (или альтернативно
      используйте комбинацию  +  ), а для горизонтальной прокрутки можно использовать
      колесиком мыши  или увеличивать и уменьшать масштаб с помощью клавиш  /  и колесика мыши . Вы также можете вырезать, копировать и вставлять объекты, используя комбинации клавиш  /  + "X",  /  + "C" и  /  + "V".
     
  
  Управлениеключевыми кадрами 
  
    Кнопки управления ключевыми кадрами - это один из способов добавления, удаления или редактирования определенных ключей в допинг-листе. Кнопки выглядят следующим образом:
    
       - Это кнопка "Разделить выбранные клавиши". Когда вы выбрали одну или несколько клавиш параметров на доп. листе, вы можете нажать эту кнопку, и они будут
        будут разделены на две отдельные клавиши в позиции головки воспроизведения временной шкалы (обратите внимание, что сначала клавиши должны быть растянуты, чтобы занять несколько кадров):
        
       - Это кнопка "Удалить выбранные ключи". Когда вы выбрали один или несколько ключей параметров в доп. листе, вы можете нажать эту кнопку, и они будут
        будут удалены:
        
       - Это кнопка "Записать новый ключ". Когда вы выбрали ключ актива в доп. листе и нажали эту кнопку, новые ключи параметров будут добавлены к треку актива как дорожки параметров, а ключи параметров будут добавлены как точки на временной шкале доп. листа.
        трек как дорожки параметров, а ключи параметров будут добавлены как точки на временной шкале dope sheet в позиции playhead:
        
       - Это кнопка "Автоматическая запись изменений". Когда эта кнопка включена, любые изменения, внесенные в актив в пределах холста, будут автоматически записаны и
        соответствующие дорожки параметров и ключи параметров будут добавлены в позиции головки воспроизведения в доп-листе. Например, если переместить головку воспроизведения с кадра 0 на кадр 10, а затем на холсте переместить актив на 100 пикселей вправо, дорожка параметров
        будет добавлена для позиции, а ключи параметров будут добавлены в кадре 0 (начальная позиция) и в кадре 10 (позиция головки воспроизведения), и когда вы нажмете кнопку "Play" в последовательности, актив переместится на 100px вправо в течение десяти кадров.
        
    
  
  Последовательность событий
  
    Подобно обычным объектам, последовательности могут иметь события, которые могут запускать определенный код, назначенный им. Код назначается в виде скриптовой функции, которая не принимает никаких
      аргументов и будет вызвана при наступлении события.
    События добавляются нажатием кнопки Добавить событие , в результате чего откроется следующее окно:
    
    Здесь перечислены следующие события:
    
      Create - Это событие происходит при первом создании экземпляра последовательности, и это самое первое, что происходит в последовательности, помещенной в комнату через редактор комнат при входе в комнату.
      Уничтожение - Это событие выполняется, когда экземпляр последовательности уничтожается, и будет запущено до события Очистка (см. ниже).
      Clean Up - Это событие будет вызываться после любого события, которое удаляет экземпляр последовательности из комнаты. Таким образом, оно будет вызвано, если последовательность будет уничтожена, если комната закончится, или если игра закончится, и предназначено для выполнения
        любую задачу, которую вам нужно выполнить один раз, когда экземпляр последовательности удаляется из игры по любой причине. Если вы уничтожили экземпляр последовательности, используя, например, layer_sequence_destroy(), то это событие будет вызвано после события Destroy
        (см. выше).
      Begin Step / Step / End Step - Событие Step Event - это событие, которое проверяется на каждом шаге (кадре) игры, пока существует экземпляр последовательности, и состоит из трех частей: begin, step и
        конец. Для большинства вещей стандартное событие шага вполне подходит, но иногда вы хотите немного больше контроля над тем, какой код выполняется и в какое время, поэтому для этого вам предоставляются события шага Begin и End, и эти события всегда будут
        срабатывать в одном и том же порядке на каждом шаге (кадре) игры. Важно! Если последовательность поставлена на паузу, то эти события не сработают, а когда игра возобновится, они сработают на следующем кадре после того, как последовательность снова начнет воспроизводиться.
        Также обратите внимание, что порядок событий не зависит от направления головки воспроизведения, и даже если последовательность воспроизводится в обратном направлении, события все равно будут запускаться как Начало, Шаг и Конец.
      Асинхронное событие: Это эквивалент объекта Asynchronous System Event. Важно! Если последовательность приостановлена, то это событие не будет вызвано.
    
    Каждому событию можно назначить одну функцию, которая будет вызываться при срабатывании события. Вы можете назначить функцию, используя поле ввода для события, а нажатие кнопки со стрелкой откроет редактор сценария для редактирования функции.
      Вы также можете нажать кнопку Create New внизу, чтобы создать новый ресурс сценария с уже определенными и готовыми к заполнению "шаблонными" функциями. Обратите внимание, что вы можете изменить имена функций на любые, какие вам нужны, и необязательно
      использовать предопределенные имена, и вы также можете удалить все определения функций, которые вам не нужны. Важно отметить, что функции, используемые для событий последовательности, не могут принимать никаких аргументов.
    Последовательность событий также можно добавлять и редактировать с помощью кода. Более подробную информацию можно найти здесь.
     
  
  Панель для отслеживания
  
     Панель дорожек - это место, где каждый актив в вашей последовательности перечислен как дорожка, причем каждая дорожка имеет поддорожки для любых параметров, которые изменяются для актива. Вы можете нажать  и перетащить любую дорожку актива, чтобы изменить ее положение над или под другими дорожками (любые назначенные дорожки параметров будут перемещаться вместе с ней), а также вы можете использовать  /  +  для выбора нескольких дорожек.
    Вы можете создать дорожку, перетащив актив из браузера активов (спрайт, объект, звук или последовательность) на холст последовательности, или щелкнуть значок  внизу, чтобы добавить новую дорожку, и выбрать актив для использования в открывшемся окне Asset Explorer. Новая дорожка будет создана, а актив добавлен в текущую позицию головки воспроизведения на временной шкале dope sheet:
    Редактор дорожек имеет множество других возможностей, которые подробно рассматриваются на следующей странице:
    
      Путевая панель
    
     
  
  Набор инструментов для работы с холстом
  
    Панель инструментов редактора последовательностей содержит различные опции визуализации и настройки для редактируемой последовательности.
    
      Toggle Canvas Grid : Это позволяет включить/выключить сетку холста редактора последовательностей. Это сетка, которую GameMaker Studio 2 рисует на холсте предварительного просмотра, чтобы разделить его на разделы.
        и по умолчанию имеет размер 32x32px. Однако если вы щелкните на значке меню сетки , вы
        откроются опции сетки:
        Эти опции позволяют задать цвет и альфа-канал сетки, а также значения ячеек сетки по осям X и
        Y. Также здесь можно включить или отключить привязку сетки (по умолчанию отключена). Для переключения видимости сетки и ее привязки можно использовать комбинации клавиш "G" и  + "G" соответственно.
      Управление масштабированием холста : Эти кнопки управляют текущим уровнем масштабирования холста. Вы можете увеличивать или уменьшать масштаб, а
        щелчок на кнопке  вернет холст в положение 1:1 с редактируемой последовательностью. Вы также можете нажать кнопку Window Fit , чтобы весь холст последовательности поместился в текущее рабочее пространство редактора (при этом масштаб будет увеличиваться/уменьшаться по мере необходимости, чтобы он поместился). Обратите внимание, что вы также можете увеличивать и уменьшать масштаб с помощью кнопок
         /  и колесика мыши , а нажатие  /  +  установит масштаб холста 1:1 с дисплеем.
      Toggle Gizmos : Нажав на эту кнопку, вы сможете включить или выключить различные штуковины, видимые на холсте. При включении вы увидите все штуковины, связанные с различными активами и самим холстом, а при выключении они не будут отображаться, давая более четкое представление о том, как выглядит последовательность. Обратите внимание, что эта функция включена по
        по умолчанию, и есть меню, доступное через кнопку опций , где можно отфильтровать то, что видно, без необходимости отключать все различные виджеты вместе. Полный список этих опций фильтрации и объяснение того, что они делают, можно найти здесь.
      Переключить режим гизмо трансформации : Каждый актив, добавленный в последовательность, имеет гизмо трансформации в его начале:
        Это гизмо может управлять масштабированием или поворотом актива, а также контролировать его положение и положение начала актива.
        начала актива, однако одновременно отображается только один из этих параметров. Нажав на эту кнопку, вы сможете переключаться между различными типами виджетов, или вы можете нажать на меню опций , чтобы непосредственно выбрать тип управляющего действия, которое вы хотите, чтобы выполняла гизмо трансформации.
      Toggle Canvas Frame : С помощью этой кнопки можно включить или выключить рамку холста (по умолчанию она включена). Рамка холста - это
        просто направляющая, которая используется для определения места размещения элементов в последовательности canvas, и любые элементы за пределами рамки не будут отображаться. Эта кнопка также имеет следующие опции меню :
        Здесь вы можете установить переключатель рамки холста, а также размер холста. У вас также есть возможность задать
       опорное изображение- это изображение, которое вы выбираете с вашего компьютера (оно не импортируется в проект), чтобы использовать его в качестве фона для последовательности. Это изображение видно только в редакторе последовательностей и
        не будет отображаться при использовании последовательности в проекте. При добавлении опорного изображения можно также установить непрозрачность, с которой оно будет нарисовано, и сместить его положение в рамке холста.
    
     
  
  Инструменты последовательности
  
    На этой панели расположены различные элементы управления воспроизведением последовательности:
    
    
      Скорость воспроизведения: это скорость воспроизведения последовательности в кадрах (шагах) в секунду.
      Положение головки воспроизведения: это текущее положение головки воспроизведения, которое может быть показано во времени (ч:м:с) или кадрах (f).
      Опции отображения времени: здесь вы можете установить, как отображать время последовательности - в часах, минутах и секундах (h:m:s) или в кадрах (f).
      Широковещательное сообщение: Нажав на эту кнопку, вы можете добавить широковещательное сообщение в текущей позиции головки воспроизведения (более подробно об этом рассказано здесь).
      Добавить момент: Нажатие на эту кнопку позволяет добавить момент последовательности в текущую позицию головки воспроизведения (более подробно об этом рассказано ниже).
      Открыть редактор кривых: Эта кнопка переключает выбранную дорожку между видом кривой и видомключевого кадра. Эта опция действительно применима только к дорожкам параметров, и когда она включена
        у вас появятся дополнительные возможности в зависимости от того, использует ли дорожка параметров ключевые кадры или анимационную кривую. Для получения дополнительной информации см. раздел " Использование кривых анимации".
      Управление воспроизведением: с помощью этих кнопок можно запускать и останавливать предварительный просмотр последовательности, а также перемещать головку воспроизведения к началу или концу. Также есть кнопка для установки того, должна ли последовательность зацикливаться или нет, и должна ли последовательность
        должна ли последовательность "пинг-понг" или повторяться при зацикливании. Обратите внимание, что эти настройки повлияют на воспроизведение последовательности при компиляции и запуске проекта.
      Длина последовательности: здесь отображается общая возможная длина последовательности в кадрах (f) или во времени (м:ч:с). Обратите внимание, что последовательность может не достигать этой длины, если вы установили меньший размер области клипа.
    
    Как упоминалось выше, вы можете добавить моменты в последовательность. Момент последовательности - это позиция на временной шкале, где последовательность может вызвать функцию. Это скриптовая функция, которая
      не должна иметь параметров, и когда момент (кадр) на временной шкале будет достигнут, эта функция будет вызвана. Чтобы задать момент, достаточно переместить головку воспроизведения в нужную позицию, а затем нажать кнопку Добавить момент, и в открывшемся
      открывшемся диалоговом окне вы задаете имя вызываемой функции.
    При добавлении функции момента можно нажать кнопку , чтобы перейти к сценарию с указанной функцией, или нажать кнопку , чтобы создать новый ресурс сценария с пустой функцией.
      готовым к редактированию. Вы также можете удалить moment и содержащийся в нем вызов функции, нажав кнопку .
    Моменты последовательности также можно добавлять и редактировать с помощью кода. Более подробную информацию можно найти здесь.
    
    
     
  
  Допэмиссия
  
    Dope Sheet отображаются всеклавиши активов и параметровдля каждого трека
      показаны. Вы можете щелкнуть  и перетащить ключи влево или вправо, чтобы расположить их на временной шкале dope sheet, а также щелкнуть  по правому краю ключа актива, чтобы изменить его длину. Обратите внимание, что для спрайтов и объектов, если установить длину больше, чем длится анимация, это приведет к тому, что анимация
      зациклится на дополнительных кадрах. На листе dope также есть элементы управления для установки начала и конца области клипа для последовательности, и вы можете щелкнуть  в любом месте, чтобы установить головку воспроизведения в эту позицию. Более подробную информацию о том, как использовать dope sheet, можно найти на следующей странице:
    
      Использование " Листа допинга
    
     
  
  Ориентация на изменения
  
    Кнопку изменения ориентации  можно использовать для изменения способа отображения последовательностей в редакторе последовательности.
      Editor отображает различные разделы. По умолчанию вид Cnavas находится вверху, а редактор дорожек и доп. лист - внизу, но это можно изменить, нажав на кнопку для переключения между различными макетами, или нажав на кнопку
      Опции , чтобы открыть меню и выбрать нужный макет.
      нужный. Доступны следующие макеты:
    
      
        
          
          Раздельное окно
          
            При этой опции редактор последовательностей будет разделен на два отдельных окна, где в главном окне IDE будет отображаться вид Canvas на полном рабочем столе, а в новом окне - Dope Sheet и редактор дорожек. Повторное нажатие кнопки
              снова изменит расположение и уберет дополнительное окно.
          
        
        
          
          Защелкивающийся верх
          
            Эта опция привязывает редактор дорожек и доп. лист к верхней части IDE.
          
        
        
          
          Snap Right
          
            Эта опция привязывает редактор дорожек и доп. лист к правой части IDE.
          
        
        
          
          Защелка нижняя
          
            Этот параметр привязывает редактор дорожек и доп. лист к нижней части IDE (это вид по умолчанию.
          
        
        
          
          Защелка левая
          
            Эта опция привязывает редактор дорожек и доп. лист к левой части IDE.
          
        
      
    
    Вы также можете в любой момент сбросить настройки редактора последовательностей, нажав на опцию Сброс . Это вернет редактор в состояние по умолчанию и вновь откроет все закрытые разделы.
  
   
  Ввиду изначальной сложности редактора последовательностей, мы дали лишь краткий обзор доступных здесь функций, но у нас есть дополнительные страницы, перечисленные ниже, которые более подробно описывают его возможности и то, как их можно использовать:
  
    Полотно последовательности
    Путевая панель
    Обтравочные маски
    Использование " Листа допинга
    Использование анимационных кривых
    Широковещательные сообщения
  
   
   
   
  
    
      
        Назад: Редакторы активов
        Следующий: Шейдеры
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

