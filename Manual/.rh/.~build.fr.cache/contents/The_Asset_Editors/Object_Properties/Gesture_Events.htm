
  
  События, связанные с жестами
  
  События в категории Gesture Event будут запускаться всякий раз, когда GameMaker Studio 2 обнаружит "жест" мыши или событие касания экрана (хотя эти события жестов разработаны специально для мобильных устройств, их можно использовать и на других объектах для обнаружения мыши, хотя в этом случае они могут обнаруживать несколько касаний).
    целях для обнаружения мыши, хотя в этом случае они не будут обнаруживать несколько касаний). Целью системы жестов является попытка распознавания вводимых данных на более высоком уровне, чем прямые функции считывания мыши\тач, и она разработана для упрощения
    реализации часто используемых вводов на сенсорных устройствах.
  ПРИМЕЧАНИЕ: Эти события не будут срабатывать на платформе HTML5 из-за отсутствия поддержки мультитач с помощью этих событий на этой платформе. Если вы ищете жесты на этой платформе, то вам следует использовать функции устройства.
  Вы можете выбрать обнаружение жестов экземпляра или глобальных жестов, при этом события жестов экземпляра будут инициироваться только в том случае, если первоначальное касание/щелчок происходит на экземпляре в помещении. Обратите внимание, что экземпляр должен
    иметь действующую маску столкновений (подробнее см. разделы " Редактор спрайтов - Маска столкновений " и " Редактор объектов - Маска столкновений" ), чтобы это событие сработало. Глобальные события, однако,
    будут вызываться при касании/щелчке в любом месте игровой комнаты и для всех экземпляров, у которых есть это событие.
  Когда жест распознан, он вызовет одно или несколько доступных событий, причем вызванное событие будет зависеть от типа жеста, который был обнаружен. В каждом случае, однако, карта DS Map будет
    будет создана для вас и сохранена во встроенной переменной event_data. Доступные ключи будут зависеть от того, каким событием она была создана, и показаны в каждом из подразделов ниже.
  ПРИМЕЧАНИЕ: Переменная event_data действительна только в этих событиях, поскольку карта DS, на которую она указывает, автоматически создается в начале события, а затем снова уничтожается в конце, при этом эта переменная сбрасывается в значение -1 во всех остальных случаях.
    на значение -1 во все остальное время.
  Стоит отметить, что если у вас есть несколько экземпляров под позицией, которой касаются, и у всех них есть событие жеста, то сработают все они, а не только самый "верхний" экземпляр. Также обратите внимание, что при использовании нескольких видов камеры
    и перетаскивании экземпляра, возвращаемые значения будут основаны на виде, в котором вы находились в момент первоначального касания/щелчка - это справедливо для всех последующих событий в этом жесте для данного экземпляра. Таким образом, касание и перетаскивание экземпляра в одном представлении
    а затем отпускание касания в другом представлении вернет значения относительно начального представления, в котором жест был впервые обнаружен.
   
      События, связанные с касанием, перетаскиванием и пролистыванием
  
    События "Tap", "Drag" и "Flick" основаны на одном прикосновении или щелчке мыши по экрану, а карта event_data DS Map будет содержать следующие клавиши:
    
    
    
      
        
          Ключ
          Описание
        
        
          "gesture"
           Это идентификационное значение, уникальное для текущего жеста. Это позволяет связать вместе различные части жестов, состоящих из нескольких частей (например, начало перетаскивания, перетаскивание и конец перетаскивания).
        
        
          "touch"
           Это индекс касания, который используется для жеста. Обычно он начинается с 0 и увеличивается для каждого удерживаемого пальца, затем сбрасывается до 0, когда все пальцы убираются, но если пользователь касается экрана в другом месте, то значение будет больше 0.
            в момент срабатывания этого события от другого прикосновения, то значение будет больше 0.
        
        
          "posX"
           Это положение X касания в пространстве помещения.
        
        
          "posY"
           Это позиция Y касания в пространстве помещения.
        
        
          "rawposX"
           Это необработанная позиция X касания в пространстве окна (эквивалентно получению позиции мыши с помощью функции device_mouse_raw_x()).
        
        
          "rawposY"
           Это необработанная позиция Y в пространстве окна для касания (эквивалентно получению позиции мыши с помощью функции device_mouse_raw_y()).
        
        
          "guiposX"
           Это позиция X касания в пространстве gui (эквивалентно получению позиции мыши с помощью функции device_mouse_x_to_gui()).
        
        
          "guiposY"
           Это положение касания в пространстве gui по оси Y (эквивалентно получению положения мыши с помощью функции device_mouse_y_to_gui()).
        
        
          "diffX"
           Это разница в пространстве X между положением текущего касания и положением последнего касания в этом жесте.
        
        
          "diffY"
           Это разница в пространстве Y между положением текущего касания и положением последнего касания в этом жесте.
        
        
          "rawdiffX"
           Это необработанная разница по оси X между положением текущего касания и положением последнего касания в этом жесте.
        
        
          "rawdiffY"
           Это необработанная разница по Y между положением текущего касания и положением последнего касания в этом жесте.
        
        
          "guidiffX"
           Это разница по X в пространстве gui между положением текущего касания и положением последнего касания в этом жесте.
        
        
          "guidiffY"
           Это разница по оси Y в пространстве gui между положением текущего касания и положением последнего касания в этом жесте.
        
        
          "viewstartposX"
           Это начальная позиция комнаты X текущего жеста.
        
        
          "viewstartposY"
           Это начальная позиция комнаты Y текущего жеста.
        
        
          "rawstartposX"
           Это необработанная начальная позиция X текущего жеста.
        
        
          "rawstartposY"
           Это необработанная начальная позиция Y текущего жеста.
        
        
          "guistartposX"
           Это начальная позиция X в пространстве gui текущего жеста.
        
        
          "guistartposY"
           Это начальная позиция Y в пространстве gui текущего жеста.
        
        
          "isflick"
          

			Доступно только в событии Drag End. Этот параметр устанавливается в 1, если конец перетаскивания определяется как щелчок. Это означает, что вам не нужно отдельное событие Flick, если вы все равно обрабатываете перетаскивание.
        
      
    
     
    Нажмите
    
      Событие Tap срабатывает при касании или нажатии на экземпляр или - если это глобальное событие - когда игра регистрирует касание или нажатие в любом месте комнаты. Касание считается быстрым касанием и отпусканием, а если касание длится слишком
        то оно будет считаться перетаскиванием (и вызовет события жеста Drag вместо события Tap). Это событие генерирует карту event_data DS, которую можно использовать для получения информации о событии. Например:
      Создать событие
      x_goto = x; y_goto = y;
      Tap Event
      x_goto = event_data[? "posX"]; y_goto = event_data[? "posY"];
      Шаговое мероприятие
      var _pd = point_distance(x, y, x_goto, y_goto); move_towards_point(x_goto, y_goto, clamp(_pd, 0, 5);
      Приведенный выше код обнаружит касание экрана, затем получит позицию касания и переместит экземпляр в эту позицию. Обратите внимание, что если вы хотите иметь большее или меньшее время обнаружения касания, вы можете установить его с помощью функции gesture_drag_time().
        Она задает время между первоначальным обнаружением и переходом касания в перетаскивание, поэтому установите большее значение, чтобы сделать обнаружение касания более долгим, или меньшее значение, чтобы сделать его более коротким (значение в секундах и по умолчанию равно 0,16).
       
    
    Двойной удар
    
      Событие Double Tap срабатывает, когда к экземпляру дважды быстро прикасаются или нажимают на него (или - если это глобальное событие - когда игра регистрирует два быстрых прикосновения или нажатия в любом месте комнаты). Двойное касание считается двумя
        быстрыми касаниями и отпусканием, но если одно из касаний длится слишком долго, то это будет считаться перетаскиванием (и вызовет события жеста Drag вместо события Double Tap). Это событие генерирует event_data DS
        карту, которую можно использовать для получения информации о событии. Например:
      Создать событие
      x_goto = x; y_goto = y;
      Мероприятие "Двойной удар
      instance_destroy();
      Приведенный выше код просто обнаруживает двойное касание и затем уничтожает экземпляр. Обратите внимание, что вы можете установить время между касаниями для запуска двойного касания с помощью функции gesture_double_tap_time() (которая
        имеет значение по умолчанию - в секундах - 0,16), а также можно задать расстояние между касаниями с помощью функции gesture_double_tap_distance() (если
        второе касание будет обнаружено за пределами этого расстояния, оно будет считаться обычным касанием).
       
    
    Начало перетаскивания
    
      Событие Drag Start срабатывает, когда пользователь удерживает прикосновение или щелчок, не отпуская его. Оно сработает один раз, когда пройдет заданное время после первого касания, которое по умолчанию составляет 0,16 секунды (хотя вы можете установить любое другое значение в секундах с помощью функции
        любое другое значение в секундах с помощью функции gesture_drag_time()). После срабатывания этого события и до тех пор, пока
        пользователь удерживает прикосновение/клик, то событие Перетаскивание будет вызываться каждый шаг, пока прикосновение/клик не будет отпущено. Это событие генерирует карту event_data DS, которую можно затем использовать для получения информации
        о событии. Например:
      Создать событие
      drag_offsetX = 0; drag_offsetY = 0;
      Событие начала перетаскивания
      drag_offsetX = x - event_data[? "posX"]; drag_offsetY = y - event_data[? "posY"];
      Приведенный выше код использует событие Drag Start, чтобы получить позицию касания/щелчка и использовать ее для установки значения смещения по осям x и y. Затем это значение можно использовать при перетаскивании экземпляра, чтобы убедиться, что он не "перепрыгнет" в позицию
        в котором было обнаружено касание/щелчок (продолжение этого примера см. в событии "Перетаскивание" ниже).
       
    
    Перетаскивание
    
      Событие перетаскивания запускается после события Drag Start и срабатывает для каждого шага, когда пользователь удерживает прикосновение/щелчок на экземпляре (или экране, если это глобальное событие) и перемещается больше, чем определенный порог перетаскивания.
        По умолчанию это расстояние составляет 0,1 дюйма, но его можно установить с помощью функции gesture_drag_distance(). Если не происходит
        движение или движение меньше определенного порога, событие не будет вызвано. Это событие генерирует карту event_data DS, которую можно использовать для получения информации о событии. Например:
      Создать событие
      drag_offsetX = 0; drag_offsetY = 0;
      Событие начала перетаскивания
      drag_offsetX = x - event_data[? "posX"]; drag_offsetY = y - event_data[? "posY"];
      Событие перетаскивания
      x = event_data[? "posX"] + drag_offsetX; y = event_data[? "posY"] + drag_offsetY;
      Приведенный выше код примера использует переменные смещения, установленные в событии Drag Start, для перемещения экземпляра при срабатывании события перетаскивания.
       
    
    Конец волочения
    
      Событие Drag End срабатывает, когда пользователь отпускает прикосновение/щелчок на экземпляре (или экране, если событие глобальное). Это событие генерирует карту event_data DS, которую вы можете использовать для получения информации о событии.
        но в этом событии карта будет иметь дополнительный ключ: "isflick". Flick рассчитывается как расстояние в секунду, на которое произошло перетаскивание, и значение для ключа "isflick"
        будет истинным, если оно больше определенного значения расстояния в секунду, и ложным в противном случае. Обратите внимание, что по умолчанию это 2 дюйма в секунду, но вы можете установить другое значение с помощью функции gesture_flick_speed().
        Также обратите внимание, что существует специальное событие Flick, которое также будет запущено, если переменная "isflick" будет истинной. Примером использования может быть:
      Создать событие
      flickVelX = 0.0; flickVelY = 0.0;
      Событие окончания перетаскивания
      isFlick = event_data[? "isflick"]; if (isFlick) { flickVelX = event_data[? "diffX"]; flickVelY = event_data[? "diffY"]; }  else
         { flickVelX = 0; flickVelY = 0; }
      Шаговое мероприятие
      x += flickVelX; y += flickVelY; flickVelX *= 0.7; flickVelY *= 0.7;
      Приведенный выше код просто получает разницу в положении x и y последнего события перетаскивания и текущего события Drag End, и если перемещение было больше, чем порог щелчка, он устанавливает некоторые переменные, которые используются для перемещения экземпляра
        в событии шага.
       
    
    Flick
    
      Событие Flick срабатывает только в том случае, если прикосновение/клик удерживается, перетаскивается, а затем отпускается, и расстояние между последним положением перетаскивания и положением отпускания превышает 2 дюйма в секунду (это настройка по умолчанию, хотя ее можно изменить с помощью функции
        можно изменить с помощью функции gesture_flick_speed()). Это событие создаст карту event_data DS, которую можно использовать для получения информации о событии. Например:
      Создать событие
      flickVelX = 0.0; flickVelY = 0.0;
      Флик-событие
      flickVelX = event_data[? "diffX"]; flickVelY = event_data[? "diffY"];
      Шаговое мероприятие
      x += flickVelX; y += flickVelY; flickVelX *= 0.7; flickVelY *= 0.7;
      Приведенный выше код просто получает разницу в положении x и y последнего события перетаскивания и текущего события Flick, и если перемещение было больше порога flick, он устанавливает некоторые переменные, которые используются для перемещения экземпляра в событии step
        событии шага.
    
     
  
  События 
  
    События "Pinch" основаны на одновременном распознавании двух прикосновений к экрану устройства, когда одно из них (или оба) переместилось более чем на определенное расстояние. Угол перемещения прикосновений вместе с перемещением каждого прикосновения является тем, что
      определяют обнаружение события Pinch или Rotate, где (в случае события типа Pinch):
    
      Если одно из касаний не движется, то другое должно двигаться к нему или от него в пределах порогового угла (который можно задать с помощью функций gesture_pinch_angle_towards() и
        - gesture_pinch_angle_away()).
      Если оба касания движутся, их скорости должны быть примерно в противоположных направлениях, а также выполняется проверка углового порога, чтобы убедиться, что касания движутся примерно в одном направлении.
    
    При обнаружении двух касаний и движения, соответствующих вышеуказанным критериям, будет инициировано событие Pinch Event, и в каждом из этих событий карта event_data DS Map будет заполнена следующими клавишами:
    
    
    
      
        
          Ключ
          Описание
        
        
          "жест"
           Это идентификационное значение, уникальное для текущего жеста. Это позволяет связать вместе различные части жестов, состоящих из нескольких частей (например, начало перетаскивания, перетаскивание и конец перетаскивания).
        
        
          "touch1"
           Это индекс первого прикосновения, которое используется как часть жеста щипка. Обычно он равен 0, но если пользователь прикасается к экрану в другом месте, когда это событие вызвано другим прикосновением, то значение будет
            больше 0.
        
        
          "touch2"
           Это индекс второго касания, которое используется как часть жеста щипка. Обычно он на 1 больше, чем значение для touch1, но может быть и другим, в зависимости от количества определяемых прикосновений в других местах.
        
        
          "posX1"
           Это позиция X в пространстве помещения для первого касания.
        
        
          "posY1"
           Это позиция Y в пространстве помещения для первого касания.
        
        
          "rawposX1"
           Это необработанная позиция X в пространстве окна при первом касании (эквивалентно получению позиции мыши с помощью функции device_mouse_raw_x()).
        
        
          "rawposY1"
           Это необработанная позиция Y в пространстве окна при первом касании (эквивалентно получению позиции мыши с помощью функции device_mouse_raw_y()).
        
        
          "guiposX1"
           Это позиция X в пространстве gui первого касания (эквивалентно получению позиции мыши с помощью функции device_mouse_x_to_gui()).
        
        
          "guiposY1"
           Это позиция Y в пространстве gui второго касания (эквивалентно получению позиции мыши с помощью функции device_mouse_y_to_gui()).
        
        
          "posX2"
           Это позиция X в пространстве помещения для второго касания.
        
        
          "posY2"
           Это позиция Y в пространстве помещения для второго касания.
        
        
          "rawposX2"
           Это необработанная позиция X в пространстве окна для первого касания.
        
        
          "rawposY2"
           Это необработанная позиция Y в пространстве окна для второго касания.
        
        
          "guiposX2"
           Это позиция X gui-space второго касания.
        
        
          "guiposY2"
           Это позиция Y в пространстве gui второго касания.
        
        
          "средняя точкаХ"
           Положение X средней точки между двумя касаниями в пространстве комнаты.
        
        
          "средняя точкаY"
           Положение Y средней точки между двумя касаниями в пространстве помещения.
        
        
          "rawmidpointX"
           Это необработанное положение X средней точки в пространстве окна.
        
        
          "rawmidpointY"
           Это необработанное положение Y средней точки в пространстве окна.
        
        
          "guimidpointX"
           Это положение X средней точки в пространстве gui.
        
        
          "guimidpointY"
           Это положение Y средней точки в пространстве gui.
        
        
          "relativescale"
           Это разница в масштабе по сравнению с последним событием в данном жесте (так, для событий "Pinch In " этот показатель всегда будет меньше 1,0, а для событий "Pinch Out " - больше 1,0).
        
        
          "абсолютная шкала"
           Это масштаб по сравнению с тем, где находились пальцы в момент начала жеста (так, если расстояние между пальцами уменьшилось вдвое, это значение будет равно 0,5, а если расстояние увеличилось вдвое - 2,0).
        
      
    
     
    Запуск
    
      Событие Pinch Start срабатывает, когда к экземпляру (или экрану, если событие глобальное) прикоснулись два "пальца" (и прикосновение сохраняется), а затем один или оба "пальца" перемещаются. Если прикосновения перемещаются
        друг от друга или друг к другу больше, чем минимальное контрольное расстояние (которое по умолчанию равно 0,1 дюйма, но его можно установить с помощью функции gesture_pinch_distance()),
        и угол между ними находится в пределах заданного значения (по умолчанию 45°, но может быть установлен с помощью функций gesture_pinch_angle_towards() и
        GameMaker_Language/GML_Reference/Game_Input/Gesture_Input/gesture_pinch_angle_away.htm">gesture_pinch_angle_away()), то будет инициировано событие Pinch Start. В этом событии можно задать переменные или сохранить дату положения для дальнейшего использования. Например:
      Мероприятие по запуску
      pinching = true; pinch_x = event_data[? "midpointX"]; pinch_y = event_data[? "midpointY"];
      Приведенный выше код обнаружит защемление и сохранит положение средней точки для этого защемления.
       
    
    Ввод / вывод
    
      События Pinch In и Pinch Out будут срабатывать при каждом шаге, когда расстояние между двумя касаниями, составляющими щипок, изменяется сверх минимального порога (по умолчанию установлено +/- 0,1 дюйма, но вы можете изменить его с помощью функции gesture_pinch_distance).
        Если прикосновения не перемещаются, то эти события не срабатывают. Эти события генерируют карту event_data DS, которую можно использовать для получения информации о событии. Например:
      Глобальное событие вхождения/выхождения пинча
      var _scale = event_data[? "relativescale"]; var _w = camera_get_view_width(view_camera[0]); var _h = camera_get_view_height(view_camera[0]); var _x = camera_get_view_x(view_camera[0]) + (_w / 2); var _y = camera_get_view_y(view_camera[0])
        + (_h / 2);
         _w *= _scale; _h = _w * (room_height / room_width); _x -= _w / 2; _y -= _h / 2;
         camera_set_view_pos(view_camera[0], _x, _y); camera_set_view_size(view_camera[0], _w, _h);
      Приведенный выше код будет масштабировать представление на основе относительного масштаба прикосновений.
       
    
    Зажимной конец
    
      Событие Pinch End срабатывает, когда пользователь отпускает одно (или оба) касания устройства. Это событие генерирует карту event_data DS, которую вы можете использовать для получения информации о событии. Для
        например:
      Событие с защемленным концом
      var _pinchx = event_data[? "midpointX"]; var _pinchy = event_data[? "midpointY"]; var _w = camera_get_view_width(view_camera[0]); var _h = camera_get_view_height(view_camera[0]); var _x = _pinchx - (_w / 2); var _y = _pinchy - (_h / 2);
         camera_set_view_pos(view_camera[0], _x, _y);
      Приведенный выше код установит позицию просмотра по центру средней точки двух касаний, составляющих пинч, когда касания будут отпущены.
      
    
     
  
  Поворот событий
  
    События "Поворот" основаны на одновременном распознавании двух прикосновений к экрану устройства, и если в течение определенного времени между ними произошел последовательный угловой поворот. Угол движения прикосновений наряду с
      определяет обнаружение события "Pinch" или "Rotate", где (в случае события типа "Rotate"):
    
      Два прикосновения должны удерживаться в течение определенного минимального времени (по умолчанию время составляет 0,16 секунды, но его можно изменить с помощью функции gesture_rotate_time()).
      В течение этого минимального периода времени они должны вращаться в одном направлении (если направление вращения меняется в течение этого времени, то вращение не начинается).
      Величина поворота должна превышать минимальный пороговый угол (который по умолчанию установлен на 5°, но его можно изменить с помощью функции gesture_rotate_angle()).
    
    При обнаружении двух прикосновений и движения, соответствующих вышеуказанным критериям, будет инициировано событие Rotate Event, и в каждом из этих событий карта event_data DS Map будет заполнена следующими клавишами:
    
    
    
      
        
          Ключ
          Описание
        
        
          "жест"
           Это идентификационное значение, уникальное для текущего жеста. Это позволяет связать вместе различные части жестов, состоящих из нескольких частей (например, начало перетаскивания, перетаскивание и конец перетаскивания).
        
        
          "touch1"
           Это индекс первого прикосновения, которое используется как часть жеста щипка. Обычно он равен 0, но если пользователь прикасается к экрану в другом месте, когда это событие вызвано другим прикосновением, то значение будет
            больше 0.
        
        
          "touch2"
           Это индекс второго касания, которое используется как часть жеста щипка. Обычно он на 1 больше, чем значение для touch1, но может быть и другим, в зависимости от количества определяемых прикосновений в других местах.
        
        
          "posX1"
           Это позиция X в пространстве помещения для первого касания.
        
        
          "posY1"
           Это позиция Y в пространстве помещения для первого касания.
        
        
          "rawposX1"
           Это необработанная позиция X в пространстве окна при первом касании (эквивалентно получению позиции мыши с помощью функции device_mouse_raw_x()).
        
        
          "rawposY1"
           Это необработанная позиция Y в пространстве окна при первом касании (эквивалентно получению позиции мыши с помощью функции device_mouse_raw_y()).
        
        
          "guiposX1"
           Это позиция X в пространстве gui первого касания (эквивалентно получению позиции мыши с помощью функции device_mouse_x_to_gui()).
        
        
          "guiposY1"
           Это позиция Y в пространстве gui второго касания (эквивалентно получению позиции мыши с помощью функции device_mouse_y_to_gui()).
        
        
          "posX2"
           Это позиция X в пространстве помещения для второго касания.
        
        
          "posY2"
           Это позиция Y в пространстве помещения для второго касания.
        
        
          "rawposX2"
           Это необработанная позиция X в пространстве окна для первого касания.
        
        
          "rawposY2"
           Это необработанная позиция Y в пространстве окна для второго касания.
        
        
          "guiposX2"
           Это позиция X gui-space второго касания.
        
        
          "guiposY2"
           Это позиция Y в пространстве gui второго касания.
        
        
          "pivotX"
           Положение X точки поворота в пространстве помещения.
        
        
          "pivotY"
           Положение Y точки поворота в пространстве помещения.
        
        
          "rawpivotX"
           Это необработанное положение X точки поворота в пространстве окна.
        
        
          "rawpivotY"
           Это необработанное положение Y точки поворота в пространстве окна.
        
        
          "guipivotX"
           Это положение X точки поворота в пространстве gui.
        
        
          "guipivotY"
           Это положение Y точки поворота в пространстве gui.
        
        
          "относительный угол"
           Это разница во вращении по сравнению с последним событием в этом жесте, измеряется в градусах.
        
        
          "абсолютный угол"
           Это разница в угле по сравнению с тем, где находились пальцы в момент начала жеста, измеряемая в градусах. Так, например, если с момента начала жеста пальцы повернулись на четверть окружности, то это значение будет равно 90°
            или -90°, в зависимости от направления вращения.
        
      
    
     
    Поворот Начало
    
      Событие Rotate Start срабатывает, когда к экземпляру (или экрану, если событие глобальное) прикоснулись два "пальца" (и прикосновение сохраняется), а затем один или оба "пальца" поворачиваются из начального положения.
        положения. Вращение касаний должно начаться в течение короткого промежутка времени (по умолчанию 0,16 секунды, но его можно задать с помощью функции gesture_rotate_time())
        и быть больше минимального углового порога (по умолчанию 5°, но его можно изменить с помощью функции gesture_rotate_angle()).
        Если эти проверки верны, то будет запущено событие Rotate Start, которое можно использовать для хранения значений или установки переменных для использования с остальными событиями rotate. Например:
      Создать событие
      rotating = false; view_a = camera_get_view_angle(view_camera[0]);
      Событие начала поворота
      вращение = истина;
      Приведенный выше код просто устанавливает некоторые переменные для поворота камеры обзора, а затем в событии Rotate Start устанавливает одну из них в true.
       
    
    Вращающийся
    
      Событие Rotating будет запускаться каждый раз, когда касания на экране вращаются друг вокруг друга, до тех пор, пока движение превышает минимальный угловой порог (по умолчанию 5°, но его можно изменить с помощью функции gesture_rotate_angle()).
        Это событие можно использовать для установки переменных и манипулирования экземплярами, например:
      Вращающееся событие
      var _relangle = event_data[? "relativeangle"]; var _a = camera_get_view_angle(view_camera[0]); _a += _relangle; camera_set_view_angle(view_camera[0], _a);
      Приведенный выше код поворачивает вид камеры в зависимости от вращательного движения касаний в событии.
       
    
    Поворотный конец
    
      Событие Rotate End сработает, когда одно (или оба) касания, составляющие жест, будут отпущены с экрана устройства. Это событие можно использовать, например, для установки переменных и манипулирования экземплярами:
      Событие окончания поворота
      вращение = false;
      Шаговое мероприятие
      if !rotating { var _a = camera_get_view_angle(view_camera[0]); var _adif = angle_difference(view_a, _a); _a += median(-5, _adif, 5); camera_set_view_angle(view_camera[0], _a); }
      Приведенный выше код использует событие Rotate End для определения того, когда пользователь останавливает жест, а затем устанавливает переменную. Эта переменная затем используется в событии step для поворота камеры обзора в исходное положение.
       
    
     
  
   
   
   
  
    
      
        Назад: События объекта
        Следующее: Порядок проведения мероприятий
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

