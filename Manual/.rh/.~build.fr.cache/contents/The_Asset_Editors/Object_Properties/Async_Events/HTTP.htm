
  
  HTTP
  Событие HTTP - это событие, которое вызывается обратным вызовом одной из функцийhttp_*(),
    например http_post_string(). Оно фактически генерирует DS Map, которая
    исключительно для этого события и хранится в специальной переменной async_load (пожалуйста, смотрите отдельные функции для
    примеры кода, которые объясняют использование этого события более подробно). Эта DS-карта имеет следующую общую структуру:
  
    "id": Идентификатор, который был возвращен командой. Если вы отправляете серию запросов http_, вам нужно знать, на какой из них вы получили ответ, и поэтому вы будете использовать это значение для сравнения со значением, сохраненным при первоначальной отправке запроса, чтобы найти нужный запрос.
      для сравнения со значением, которое вы сохранили при отправке запроса, чтобы найти нужный запрос.
    "status": Возвращает значение меньше 0 в случае ошибки, 0 в случае успеха и 1, если содержимое загружается.
    "result": Полученные данные (только строка), или путь к загруженному файлу, если вы использовали http_get_file().
    "url": Полный URL-адрес, который вы запросили.
    "http_status": Необработанный код статуса http (если доступен). Возвращается стандартный код статуса для большинства браузеров, например: 304 для "Not Modified" или 204 для "No Content" и т.д..
  
  Выше показано, что вы получите при использовании функции http_post_string() но каждая из функций http_ может возвращать немного другую карту, поэтому, пожалуйста, обратитесь к руководству по каждой функции, чтобы узнать точные данные, которые возвращаются для нее.
  ПРИМЕЧАНИЕ: Поскольку async_load создает карту DS, эти функции особенно полезны в сочетании с функциями json_encode() и
    json_decode() функциями.
  Также могут быть дополнительные данные, предоставляемые этой картой, если вы запросили файлы для загрузки. В этом случае "статус" будет иметь значение 1, а карта DS будет содержать эти дополнительные ключи:
  
    "contentLength": Это размер файла, который, по словам веб-сервера, вы должны ожидать получить (может быть -1, если сервер не возвращает эти данные).
    "sizeDownloaded": Размер данных, которые уже были загружены.
  
  Обратите внимание, что событие не будет запускаться для каждого полученного пакета данных, а будет обновляться в любое время во время загрузки в основном цикле игры. Также обратите внимание, что в настоящее время эта функциональность доступна только для обычных Windows
    целевых платформ.
   
   
   
  
    
      
        Назад: Асинхронные события
        Следующий: Покупка в приложении
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

