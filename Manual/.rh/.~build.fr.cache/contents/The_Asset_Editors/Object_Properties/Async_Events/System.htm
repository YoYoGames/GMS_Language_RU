
  
  Система
  Это событие может быть вызвано только обратным вызовом от события системного уровня (например, обнаружение геймпада или автоматический вход в XBox Live).
    геймпада или автоматический вход в XBox Live), и оно вернет DS Map, хранящуюся в переменной async_load,
    содержащая различные пары ключ/значение в зависимости от события системного уровня, которое вызвало обратный вызов. Этими событиями являются:
   
  Игровые планшеты
  Когда это событие срабатывает при подключении или отключении геймпада, оно возвращает одну из следующих пар ключ/значение в карте async_load:
  
    "event_type" - тип полученного системного события, которое будет одной из следующих строк:
      
        "gamepad discovered" - происходит, когда система сообщает о подключении нового геймпада
        
        "gamepad lost" - происходит, когда система потеряла соединение с геймпадом
        
      
    
    "pad_index" - индекс добавленной или удаленной площадки
  
  Это событие позволяет перенести всю логику проверки геймпада из события Step Event или события Alarm в событие System Event и запускать ее только тогда, когда это действительно необходимо.
  ВАЖНО! Это событие НЕ будет запущено, если у вас нет хотя бы одной gamepad_* функция или действиеDnD™ в коде вашей игры. Программа запуска инициализирует подсистему геймпада только тогда, когда в проекте используются функции, поэтому если их нет, добавление/удаление геймпадов не вызовет системного события.
   
  Виртуальные клавиатуры
  Когда это событие срабатывает при открытии или закрытии виртуальной клавиатуры, оно возвращает следующие пары ключ/значение в карте async_load:
  
    "event_type" - тип полученного системного события, которое будет "virtual keyboard status" для виртуальных клавиатур.
    "screen_height" - высота виртуальной клавиатуры (в пикселях). Это значение будет равно 0, если клавиатура невидима.
    "keyboard_status" - текущее состояние клавиатуры, возвращается в виде одной из следующих строк:
      
        "скрытие"
        "скрытый"
        "показывающий"
        "видимый"
      
    
  
  Дополнительную информацию о виртуальной клавиатуре см. здесь.
   
  XBox Live
  Асинхронное системное событие может быть вызвано при нацеливании на XBox One с помощью экспорта UWP и установке опции Enable XBox Live в опциях UWP Game Options. При запуске GameMaker Studio
    2 UWP-проект, в котором включена функция Xbox Live, проект автоматически попытается беззвучно войти в Xbox Live. Результаты этой попытки входа будут возвращены в виде одной из следующих пар ключ/значение в карте async_load:
  
    "event_type" - тип полученного системного события, которое будет одной из следующих строк:
    "user signed in" - тихая регистрация пользователя была успешно завершена
    "user sign in failed" - тихая регистрация пользователя не удалась (когда это происходит, вы можете использовать функцию xboxlive_show_account_picker() чтобы
      заставить пользователя выбрать учетную запись для входа в систему)
    "user signed out" - пользователь вышел из системы
  
  Другие функции для XBox Live также могут вызывать это событие, но различные обратные вызовы для этих функций подробно описаны на страницах соответствующих функций. Более подробную информацию о конкретных функциях, доступных для XBox Live, см. здесь.
   
  Состояние аудиосистемы
  Этот тип события специально предназначен для использования при работе с HTML5-целью, поскольку он будет срабатывать каждый раз при изменении состояния контекста Web Audio. Это означает, что если у вас есть, например, зацикленная фоновая музыка, вы можете поставить ее на паузу
    или остановить и перезапустить его, основываясь на срабатывании этого события. Это можно проверить, найдя следующую пару ключ/значение в карте async_load:
  
    "event_type" - тип полученного системного события, которое будет строкой "audio_system_status", если аудиосистема инициализировалась или изменился контекст.
  
  Если срабатывает этот тип события, то в карте async_load появляется дополнительный ключ:
  
    "status" - Статус аудиосистемы, который будет одной из следующих двух строк
    "available" - аудиосистема инициализирована и доступна для воспроизведения звуков.
    "unavailable" - Аудиосистема не инициализирована, или контекст не запущен в данный момент, и поэтому не может воспроизводить звуки (все функции воспроизведения звука вернут -1)
  
  Более подробную информацию о конкретных функциях, доступных для Audio, можно найти здесь.
  ПРИМЕЧАНИЕ: Хотя это событие предназначено для использования с целью HTML5, оно будет срабатывать и на всех других платформах, но на всех (кроме HTML5) оно будет срабатывать только один раз при запуске игры, когда аудиодвижок впервые инициализируется.
   
   
   
  
    
      
        Назад: Асинхронные события
        Следующий: Воспроизведение аудио
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

