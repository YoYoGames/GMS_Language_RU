
  
   Если форма столкновения
  Это действие используется для проверки наличия столкновения с экземпляром заданного объекта в области заданной формы или вдоль линии. Вы указываете форму (прямоугольник, эллипс или линия), объект для проверки, а затем задаете координаты для
    верхнего левого и нижнего правого углов используемой фигуры, или, в случае линии, начального и конечного положения. Это могут быть абсолютные позиции в пределах игровой комнаты или позиции относительно экземпляра, выполняющего действие. Вы можете увидеть, как
    это работает на изображении ниже:
  Как вы можете видеть, результаты будут зависеть от маски столкновений экземпляра.
    то есть у искомого объекта должен быть спрайт, назначенный на sprite_index, или спрайт, назначенный на mask_index. Если это не так, то он не будет обнаружен этими функциями,
    независимо от того, рисует ли он спрайт или нет. Стоит отметить, что любой объект, который полностью попадает в границы, установленные для формы эллипса или прямоугольника, также вернет столкновение. Действие будет иметь значение true, если
    столкновение обнаружено, или false в противном случае, хотя вы также можете проверить флаг Not, чтобы проверить, нет ли столкновения с данной областью фигуры, и тогда действие будет оцениваться как true, только если столкновений не обнаружено.
    в противном случае оно будет иметь значение false. Вы также можете установить параметр Exclude Self, чтобы исключить вызывающий экземпляр из проверки столкновений.
  Далее вы можете отметить/отметить опцию Возвращать список. Установка флажка означает, что действие создаст и заполнит список структурой данных со всеми экземплярамив столкновении
    с фигурой и установит переменную Target в идентификатор списка DS. Если флажок не установлен, то переменная Target будет установлена в значение меньше 0 только в том случае, если столкновение не обнаружено, или в уникальное значение ID одного из экземпляров, попавших в столкновение.
    (обратите внимание, что если в столкновении участвуют несколько экземпляров, то у вас нет возможности узнать, какой ID экземпляра будет возвращен, если не используется список).
  Если вы выбрали возврат списка - и переменная Target не установлена в Temp - то вы также можете выбрать опцию Free Target. Если установить значение true, то список, содержащийся в переменной target, будет уничтожен и
    новый список будет создан (и возвращен в переменную target) каждый раз, когда вы вызываете действие. Таким образом, вы можете повторно использовать одну и ту же переменную, не беспокоясь об утечке памяти, так как, если вы не отметите опцию Free Target, вы становитесь ответственным за
    за уничтожение списка перед повторным использованием переменной в действии. Обратите внимание, что независимо от того, отмечена эта опция или нет, если вы установили действие на Return List, то переменная target всегда будет содержать идентификатор списка,
    и как таковая, она должна быть освобождена при уничтожении экземпляра или завершении комнаты (вы можете использовать событие Очистка событие, например, вместе с действием Free Data Structure ).
    Стоит отметить, что вы можете установить опцию Free Target на использование предопределенной переменной или выражения и таким образом контролировать момент освобождения структуры данных списка, устанавливая переменную в другом месте (или используя различные результаты для выражения)
    до тех пор, пока оно будет иметь значение true/false.
  Наконец, вы указываете переменную Target, которая будет содержать возвращаемое значение или ID списка. Если вы отметите переменную Target для хранения возвращаемого значения как Temp (локальную) переменную, то действие создаст эту переменную для хранения возвращаемого значения только до конца события.
    В этом случае опция Free Target ничего не делает, и вы будете ответственны за уничтожение списка DS, если эта опция была отмечена. Если переменная цели не задана, а опция Return List отмечена, список не будет создан.
  ВАЖНО! Столкновения будут регистрироваться только для тех экземпляров, у которых есть действительная маска столкновения, т.е. у них есть спрайт, назначенный на sprite_index, или спрайт, назначенный на mask_index. Если экземпляры объекта, который
    не имеют маски столкновения, то столкновение не будет обнаружено, независимо от того, что рисует экземпляр в данный момент.
  Обратите внимание, что для добавления действий в блок "if", их следует опустить сбоку от действия, как показано на изображении ниже:
  
   
  Синтаксис действия:
  
  Аргументы:
  
    
      
        Аргумент
        Описание
      
      
        Форма
        Форма для использования
      
      
        Объект
        Объект для проверки на наличие экземпляров
      
      
        x1
        Позиция x, с которой нужно начинать
      
      
        y1
        Позиция y, с которой нужно начинать
      
      
        x2
        Позиция x, на которой нужно закончить
      
      
        y2
        Позиция y, на которой нужно закончить
      
      
        Свободная цель
        Может быть установлен на переменную или выражение, или установлен на true/false для управления освобождением памяти списка при повторном использовании переменной списка
      
      
        Цель
        Переменная, на которую будет нацелено возвращаемое значение действия
      
    
  
   
  Пример:
  Приведенный выше код блока действий проверяет столкновение с любыми экземплярами объекта "
    obj_Enemy " в радиусе 100px вокруг позиции вызывающего экземпляра. Действие формирует список всех экземпляров, с которыми обнаружено столкновение, и сохраняет идентификатор списка в переменной Target. Если действие имеет значение
   true, то список просматривается, и у каждого экземпляра с его ID, сохраненным в списке, переменная "hp" уменьшается на 1. Затем список DS освобождается.
   
   
   
  
    
      
        Назад: Действия при столкновении
        Следующий: Если точка столкновения
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

