
  
  Библиотека действий геймпада
  GameMaker Studio 2 имеет ряд специальных действий, которые можно использовать для обнаружения аналоговых и цифровых элементов управления с нескольких подключенных геймпадов.
    управления с нескольких подключенных геймпадов. Эти действия требуют указания значения индекса геймпада, который представляет собой число (считая от 0), обозначающее выбранный геймпад. Обратите внимание, что когда геймпад подключен к вашему устройству (или
    вынимается), то срабатывает асинхронное системное событие (однако для решения этой проблемы вам может понадобиться код).
  Слоты для геймпадов индексируются от 0. Слоты с 0 по 3 включительно предназначены только для  геймпадов Xinput  , т.е. контроллеров Xbox360 и совместимых с ними. Однако вы также можете проверить слоты с 4 по 11 включительно для геймпадов DirectInput, что означает, что вы можете обнаружить множество других моделей контроллеров при подключении через эти слоты.
  Входные константы
  При работе с действиями геймпада ввод может осуществляться через оси, кнопки или шляпы, которые GameMaker Studio 2 присвоит следующим встроенным константам (обратите внимание, что "шляпы" обычно обнаруживаются только на нестандартных контроллерах):
  
    
      
        Постоянная
        Описание
      
      
        gp_face1
        Верхняя кнопка 1 (соответствует кнопке "A" на контроллере Xbox 360 и кресту на контроллере PS )
      
      
        gp_face2
        Верхняя кнопка 2 (соответствует кнопке "B" на контроллере Xbox 360 и кругу на контроллере PS )
      
      
        gp_face3
        Верхняя кнопка 3 (соответствует "X" на контроллере Xbox 360 и квадрату на контроллере PS )
      
      
        gp_face4
        Верхняя кнопка 4 (соответствует букве "Y" на контроллере Xbox 360 и треугольнику на контроллере PS )
      
      
        gp_shoulderl
        Пуговица на левом плече
      
      
        gp_shoulderlb
        Спусковой крючок левого плеча
      
      
        gp_shoulderr
        Правая плечевая кнопка
      
      
        gp_shoulderrb
        Спусковой крючок правого плеча
      
      
        gp_select
        Кнопка выбора (это кнопка PS на контроллере DS4)
      
      
        gp_start
        Кнопка запуска (это кнопка "опции" на контроллере PS4)
      
      
        gp_stickl
        Левый стик нажат (как кнопка)
      
      
        gp_stickr
        Правый стик нажат (как кнопка)
      
      
        gp_padu
        D-пад вверх
      
      
        gp_padd
        D-пад вниз
      
      
        gp_padl
        D-pad влево
      
      
        gp_padr
        D-pad вправо
      
      
        gp_axislh
        Горизонтальная ось левой рукоятки (аналог)
      
      
        gp_axislv
        Вертикальная ось левой рукоятки (аналог)
      
      
        gp_axisrh
        Горизонтальная ось правого стика (аналог)
      
      
        gp_axisrv
        Правый стик вертикальной оси (аналог)
      
    
  
  Чтобы лучше понять, какую именно часть контроллера представляет каждая константа, вы можете обратиться к следующему изображению стандартного геймпада Xinput:
  
  Действия
  Ниже перечислены все доступные действия с геймпадом:
  
    
      
        
        Получить ось геймпада
      
      
        
        Получить триггер геймпада
      
      
        
        Получить счетчик геймпада
      
      
        
        Подключите геймпад
      
      
        
        Установите мертвую зону оси геймпада
      
      
        
        Настройка порога нажатия кнопок геймпада
      
      
        
        Если нажата кнопка геймпада
      
      
        
        Если кнопка геймпада нажата
      
      
        
        Если кнопка геймпада отпущена
      
    
  
   
   
   
   
   
   
   
   
   
   
   
   
  В приведенном ниже списке указана текущая совместимость платформ (обратите внимание, что она будет меняться с будущими обновлениями):
  
    Windows полностью поддерживается, при этом одновременно может быть подключено не более 11 устройств. Обратите внимание, что в Windows первые 4 слота для геймпадов (0 - 3) обрабатываются с помощью длл XInput, что означает, что только контроллеры XBox могут быть совместимы на 100%.
      и что для других типов контроллеров необходимо проверить остальные слоты геймпада (4 - 11).
    macOS поддерживается не более 4 подключенных устройств одновременно, причем эти устройства могут быть ТОЛЬКО типа Playstation3или Xbox 360. Обратите внимание, что опция "Buildfor Mac AppStore" в Mac Game
      Options должна быть ВЫКЛЮЧЕНА, чтобы поддержка планшета работала.
    Ubuntu также поддерживает ввод с GamePad, но вам может потребоваться установить дополнительные библиотеки из репозитория Ubuntu. Вы можете сделать это легко, открыв терминал командной строки и введя следующее, что установит поддержку графического интерфейса
      для джойстика, а также сам джойстик:
  
  sudo apt-get install jstest-gtk sudo apt-get install joystick.
  
    ИгрыHTML5 поддерживают геймпады в большинстве основных браузеров, кроме Safari.
    Поддержка геймпадов также распространяется на iOS с корпусом iCade. Левая ось соответствует контроллеру стиков (хотя вход цифровой, а не аналоговый), четыре "лицевые" кнопки соответствуют передним кнопкам корпуса, а четыре плечевые кнопки соответствуют кнопкам на задней панели корпуса.
      четыре плечевые кнопки соответствуют кнопкам на задней панели корпуса.
    Android export поддерживает контроллеры NYKO и общие Bluetooth-контроллеры, но только если они включены, то есть вам придется отметить опцию iCade/Bluetooth в разделе General в опциях игрыAndroid. Для их полноценной работы требуется уровень API 12, и следует отметить, что GameMaker Studio 2 зарегистрирует как подключенные все Bluetooth-устройства, с которыми сопряжено ваше устройство, независимо от того, подключено оно или нет.
      подключено оно на самом деле или нет. Поэтому это следует учитывать при назначении и проверке "слотов".
    На PS4, если вы хотите использовать отслеживание сенсорной панели, вам нужно использовать функции для кнопок device_mouse_*кнопки 
      (для этого не существует действий DnD™).
  
   
   
   
  
    
      
        Назад: Указатель
        Следующее: Действия при движении
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

