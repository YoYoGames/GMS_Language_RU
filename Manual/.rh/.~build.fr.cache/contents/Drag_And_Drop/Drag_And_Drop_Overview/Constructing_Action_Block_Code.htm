
  
  Конструирование кода блока действий
  Чтобы добавить поведение к объектам, вы можете построить свой код, используя действия из различных библиотек, доступных вам из панели Action Toolbox. Для начала вам нужно создать новый  проект Drag and Drop, а затем создать новый объект ( при необходимости вы можете назначить объекту спрайт). В новом объекте вы можете начать добавлять события,
    и в событиях добавлять свои действия из кода DnD™.
  Обратите внимание, что при добавлении нового события открывается окно "код" с вкладкой для данного события (см. изображение
    выше), и теперь вы можете перетащить любое действие из панели инструментов справа в панель Action Block окна кода. Теперь, хотя это правда, что вы можете добавить любое действие, это не означает, что все они будут работать или что проект будет
    скомпилируется. Для работы некоторых действий требуется хотя бы одна переменная, а другие - например, действия Draw - будут работать только в том случае.
    будут работать только при использовании в определенном событии. Как узнать, какие из них использовать? В общем, это просто вопрос логики... Если действие требует переменную, а мы ее еще не определили, то мы не должны ее использовать, пока не добавим действие для создания переменной.
    добавить действие для создания переменной.
  Когда вы перетащите действие из панели инструментов в основное рабочее пространство блока действий, оно развернется и покажет вам доступные аргументы(параметры), которые вы можете заполнить и изменить, чтобы задать поведение.
    и изменить, чтобы задать поведение. На изображении ниже мы перетащили действие Assign Variable из библиотеки Toolbox Common в
    рабочую область блока действий:
  Вы можете видеть, что новое действие также отображается слева от окна кода в сокращенном виде. Этот список действий,
    называемый "Обзор действий", можно щелкнуть, чтобы быстро перейти к этому действию для редактирования. При необходимости вы можете продолжать добавлять действия к событию, при этом каждое новое действие будет "привязано" к предыдущему, чтобы показать поток
    кода DnD™, который вы создаете. Обратите внимание, что область, в которую можно добавлять последующие действия, выделена под начальным действием, и, в зависимости от используемого действия, будут выделены различные области, чтобы показать, в каком месте цепочки вы можете его добавить.
    добавить его:
  По мере добавления действий в рабочую область они будут "примыкать" к действиям выше, чтобы вы могли видеть, как
    код DnD™, где одно действие ведет к другому, а панель обзора показывает их в сокращенном виде и в порядке выполнения:
  Некоторые действия будут размещать код в отдельной цепочке в стороне от основного потока - такие вещи, как If Variable, будут
    создают подцепочку действий, которые должны произойти при выполнении правильных условий, прежде чем продолжить основную цепочку:
  Обратите внимание, что при использовании действий, которые могут иметь боковой блок цепочки, как в данном случае, действие будет иметь две области
    выделенные для отбрасывания дальнейших действий:
  
    Один под действием, как обычно
    Один справа от действия, чтобы показать, что вы хотите создать отдельный блок действий для выполнения, когда условие первого действия возвращает true
  
  Вы можете изменить положение действий в цепочке, просто щелкнув  и перетащив их в нужное вам новое положение, а если вы сделаете щелчок  и
    удерживать в течение секунды, а затем переместить мышь, вы можете перемещать действие в пределах рабочей области, сохраняя его место в цепочке блоков действий.
  Также можно добавлять комментарии к действиям Drag and Drop™, поэтому вы можете оставлять заметки рядом с различными блоками, чтобы объяснить, что они делают (что особенно полезно при работе в команде):
  Подробнее об этой функции можно узнать на странице, посвященной меню правой кнопки мыши.
  Это основы использования редактора кода Drag and Drop, но есть и другие важные детали, о которых рассказано в следующих разделах:
   
  Целевые переменные
  
    Важно отметить, что многие действия предлагают переменную "цель", которая может быть помечена, например, как "Временная":
    Это означает, что вы можете предоставить переменную, которая является целью для хранения значения, возвращаемого действием
      действием. В приведенном выше примере действие возвращает громкость аудиоресурса, который вы выбрали, поэтому вы предоставляете переменную target для хранения этого значения, чтобы вы могли сослаться на него позже.
    Теперь эта целевая переменная должна быть объявлена ранее либо с помощью Assign Variable (которая создает переменную экземпляра), либо Declare Temporary Variable (которая создает локальную временную переменную).
      Если вы отметите опцию "Temp", то вы можете просто добавить имя переменной, и действие создаст эту переменную и установит ее для хранения возвращаемого значения (создав временную локальную переменную).
      переменную). Любые действия, используемые после этого, теперь могут получить доступ к значению временной переменной, но только в рамках одного события или сценария. Временные переменные доступны только в той области видимости, в которой они были созданы. Для получения более подробной
      информацию о переменных и области действия переменных можно найти здесь.
     
  
  Сфера действия
  
    Не только переменные имеют области видимости (см. раздел " Целевые переменные ", выше), действия также могут иметь различные области видимости. Фактически, почти все действия могут иметь различные области действия, задаваемые в выпадающем окне, открываемом в самом действии.
      как показано здесь:
    Вы также можете установить область действия для всех последующих действий с помощью специального действия " Применить к".
      Подробнее об этой особенности действий DnD™см. здесь:
    
      Применение действий к другим экземплярам
    
     
  
  Автокомплект
  
    При работе с Drag and Drop вам придется добавлять переменные и выражения в различные поля ввода действий. Однако при этом часто появляется окно Auto Complete, которое поможет вам:
    В этом всплывающем окне будут перечислены все встроенные в GML(GameMaker Language) переменные, константы и функции, а также
      а также все ресурсы, которые содержат начальные буквы того, что вы вводили. С его помощью можно быстро найти нужный ресурс или переменную для действия без необходимости вводить их самостоятельно. Например, если все ваши комнаты
      имеют префикс "rm_", то, набрав его и подождав некоторое время, вы увидите окно автозаполнения со всеми ресурсами, начинающимися с "rm_". Обратите внимание, что все встроенные переменные
      которые отображаются в окне автозаполнения, могут быть использованы в любом месте, где в действии ожидается переменная или выражение, как и большинство функций GML.
     
  
  Расширение действия
  
    Иногда при использовании действия вы увидите маленький значок плюса  сбоку. Это означает, что вы можете расширить действие, чтобы выполнить дополнительные задачи или принять дополнительные
      аргументы. Например, если вы посмотрите на действие Declare Temporary Variables, вы увидите, что у него есть этот значок:
    Когда вы щелкните по значку, действие расширится и позволит вам объявить больше переменных, делая
      проще и быстрее определять несколько переменных одновременно.
    Значок также можно использовать для тех действий, которые требуют необязательных аргументов,
      например, действие Choose, которое позволяет добавлять различные значения для возврата:
    
  
   
   
   
  
    
      
        Назад: Указатель
        Следующее: Применение действий к другим экземплярам
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

