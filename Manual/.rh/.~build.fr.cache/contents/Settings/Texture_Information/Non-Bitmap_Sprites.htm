
  Небитовые спрайты
  ВGameMaker Studio 2 есть поддержка небитовых спрайтов в виде векторных файлов SWF или файлов Spine Skeletal Animation. Оба эти формата имеют свои плюсы и минусы, и в двух следующих разделах рассказывается о том, как импортировать их в редактор спрайтов, а также немного информации о том, как они рисуются.
   
  Скелетная анимация спрайтов (позвоночник)
  Спрайт, созданный с использованием скелетной анимации, - это спрайт, в котором создан базовый "скелет" и анимирован с помощью ключевых кадров для перемещения составных частей скелета во времени. Затем на этот скелет накладывается текстура из атласа текстур, и полученная анимация экспортируется в один из многих типов файлов. GameMaker Studio 2 позволяет импортировать этот тип спрайта при условии, что он был экспортирован в файл формата *.json и имеет соответствующий файл атласа текстур ( ).
    корректно связанный файл атласа текстур (*.atlas) и файл изображения (в формате *.png) в том же каталоге.
  В настоящее время GameMaker Studio 2 может импортировать векторные изображения только из файлов формата JSON, созданных программой Spine,
    однако способ их импорта в программу практически идентичен способу добавления обычного растрового изображения. Чтобы добавить скелетную анимацию, необходимо создать новый спрайт, что вызовет стандартный диалог Load Sprite, только
    только здесь нужно убедиться, что вы выбрали *.json в фильтре файлов внизу:
  
  Нажатие кнопки "Загрузить" добавит скелетную анимацию в Браузер активов в виде спрайта, при этом по мере обработки файла будет отображаться индикатор выполнения. Обратите внимание, что в зависимости от сложности
    файла, это может занять минуту или две. По окончании обработки вы вернетесь к диалогу свойств спрайта, который теперь будет выглядеть следующим образом:
  После импорта анимации вы можете задать свойства столкновений, но учтите, что здесь вы ограничены только использованием
    точными столкновениями или столкновениями с ограничивающей рамкой, и что данные о столкновениях для скелетной анимации явно берутся из предоставленных данных. GameMaker Studio 2 не генерирует маску столкновений, если данные отсутствуют в импортированном файле, а это означает, что
    вы просто не получите работающих коллизий, если маски не установлены правильно в программе, используемой для создания импортируемого изображения.
  ПРИМЕЧАНИЕ: Из-за сложности скелетной анимации, изображение предварительного просмотра, показанное в редакторе спрайтов, не предназначено для точного представления вашей анимации, а скорее дает вам простое изображение, которое представляет анимацию для визуализации
    в редакторе комнат.
  В отличие от растровых спрайтов, импортированный спрайт скелетной анимации не может быть изменен в редакторе каким-либо образом, но существует ряд функций, доступных в языке GameMaker Language(GML), которые можно использовать для изменения скинов, установки свойств,
    и управлять другими аспектами анимации. Вы также не можете установить какие-либо параметры текстуры для спрайта, поскольку GameMaker будет использовать прилагаемый атлас текстур, созданный программой, которая сгенерировала спрайт.
  Существует ряд моментов, о которых вы должны знать при импорте спрайтов скелетной анимации, самым важным из которых является то, что некоторые функции рисования и управления спрайтами не поддерживаются по техническим причинам, в частности те, которые
    функции рисования, которые рисуют только часть спрайта или каким-либо образом "перекашивают" позицию (см. отдельные draw_sprite_*() функции
    для получения точной информации о них). Однако основные функции рисования спрайтов полностью поддерживаются, как и встроенные переменные спрайтов. Помимо этих функций и переменных, вы также можете устанавливать и изменять свойства анимации с помощью специальных функций skeleton_*, которые перечислены и объяснены в справочном разделе " Скелетная анимация".
   
   
  Векторные спрайты (SWF)
  Как правило, все спрайты в GameMaker используют растровые изображения, которые, несмотря на гибкость в плане содержания, накладывают ограничения на размер и количество кадров, возможных в спрайте, прежде чем использование памяти может стать непомерно большим. Векторные спрайты позволяют обойти эти ограничения
    храня и рисуя свое содержимое по-другому: вместо сетки пикселей, которая может стать блочной или нечеткой при масштабировании, они рисуются в виде треугольников с использованием векторной математики, которые могут быть увеличены (или уменьшены) без потери четкости, как показано на рисунке ниже.
    на изображении ниже:
  Чтобы помочь вам представить, как это делается, ниже показан тот же векторный спрайт Fireman, только теперь мы можем увидеть полигоны, которые
    используются для создания изображения в GameMaker Studio 2:
  Однако в программировании игр ничто не дается даром, и компромисс с векторными спрайтами заключается в том, что они требуют больше затрат процессора при рисовании, чем растровые спрайты.
    и эта разница в скорости увеличивается по мере увеличения сложности импортируемой анимации. Кроме того, в отличие от растровых спрайтов, их использование памяти зависит от их визуальной сложности. Несмотря на это, они позволяют
    возможность добавления большой анимированной графики, что было бы невозможно при использовании традиционных растровых спрайтов.
  С другой стороны уравнения производительности, поскольку векторные спрайты рисуют только абсолютно необходимые пиксели (в отличие от растровых спрайтов, которые также "рисуют" пустое пространство вокруг изображения), они могут быть дешевле с точки зрения GPU. Кроме того, в целом
    векторные спрайты намного меньше своих растровых аналогов - для приведенного выше примера с пожарным размеры различных типов спрайтов следующие:
  Битмап с разрешением 70x68 = 4x70x68 байт x 12 кадров = 223k Вектор = 54k
  Если вы увеличите разрешение спрайта в четыре раза:
  Битмап с разрешением 280x272 = 4x280x272 байт x 12 кадров = 3570k Вектор = 54k
  Итак, как вы можете видеть, много памяти можно потенциально сэкономить, используя векторные спрайты, и у нас еще есть большой потенциал для экономии места в будущем.
  В настоящее время GameMaker Studio 2 имеет ограниченную поддержку векторных спрайтов. и может импортировать векторные изображения только из файлов формата SWF. Способ их импорта в программу практически идентичен способу добавления обычного
    растрового изображения. Чтобы добавить векторный спрайт, создайте новый спрайт, что вызовет стандартный диалог Load Sprite, но убедитесь, что вы выбрали *.swf из фильтра файлов внизу.
  Нажатие кнопки "Загрузить" добавит векторное изображение или анимацию в Браузер активов ,
    при этом по мере обработки файла будет отображаться индикатор выполнения. Обратите внимание, что в зависимости от сложности файла это может занять некоторое время (до минуты для более сложных анимаций). По окончании обработки вы вернетесь к диалогу свойств спрайта
    диалог свойств спрайта, который теперь будет выглядеть следующим образом:
  Редактор спрайтов не сильно изменился, но теперь кнопка Edit Image стала серой и ее нельзя
    так как в таком спрайте нет растровых изображений для редактирования. Во-вторых, все опции текстуры тоже стали серыми. Спрайты SWF основаны на математике и, как таковые, обычно не имеют текстур, поэтому ни одна из доступных опций не применима к этому типу спрайтов.
    ни одна из доступных опций не применима к этому типу спрайтов.
  ПРИМЕЧАНИЕ: То, как изображение выглядит в выбранном вами редакторе предварительного просмотра, не будет совпадать ни с тем, как оно выглядит в вашей игре, ни с тем, как оно выглядит в окне предварительного просмотра редактора спрайтов. Векторное изображение будет импортировано в том размере, в котором оно было создано,
    что не обязательно соответствует размеру, который отображается в окне предварительного просмотра (например, браузеры обычно масштабируют изображение для подгонки).
  Одним из дополнений к редактору спрайтов является то, что вы можете установить качество векторного спрайта при рисовании с помощью ползунка SWF Precision в верхней части. Это просто уменьшит или увеличит количество треугольников, используемых для создания спрайта.
    - значение около 50% обычно достаточно для большинства игр - однако вам следует поэкспериментировать с этим значением, если вы используете экстремальное масштабирование или испытываете проблемы с производительностью.
  При импорте векторных спрайтов следует учитывать ряд моментов, наиболее важным из которых является то, что некоторые функции рисования спрайтов и управления спрайтами не поддерживаются по техническим причинам, в частности, те функции рисования
    которые рисуют только часть спрайта или каким-либо образом "перекашивают" позицию (см. отдельные draw_sprite_*() функции
    для получения точной информации о них). Однако основные функции рисования спрайтов полностью поддерживаются, как и встроенные переменные спрайтов. Вы также можете установить различные значения сглаживания(AA)
    для рисуемых SWF спрайтов с помощью функций draw_enable_swf_aa(), draw_get_swf_aa_level() или draw_set_swf_aa_level().
  Вы также должны знать следующее:
  
    При импорте файла *.SWF, Actionscript не поддерживается, поэтому если ваш SWF полагается на его корректную работу, то, скорее всего, он не будет работать правильно. Аналогично, любые встроенные видеоклипы, имеющие свою собственную временную шкалу
      будет показан только первый кадр анимации - вся анимация должна быть на основной временной шкале.
    Если ваш векторный файл имеет особенно мелкие детали, вы можете иногда обнаружить, что в полученных спрайтах появляются дыры или странные треугольники. Это происходит потому, что в небольших масштабах геометрия может иногда схлопываться, создавая формы, которые просто не
      хорошо триангулируются. В этом случае у вас есть два варианта - вы можете увеличить масштаб содержимого векторного файла, что даст импортеру больше пространства для игры, или вы можете попытаться уменьшить уровень детализации объекта, который ломается.
    GameMaker Studio 2 использует размер сцены SWF в качестве границ результирующего спрайта. Однако если на сцене есть что-либо за пределами этих границ, оно все равно будет нарисовано. Это означает, что вам следует стараться не размещать ничего за пределами сцены, если вы хотите, чтобы оно было нарисовано.
      если вы не хотите, чтобы это было показано, либо использовать слой-маску, чтобы ограничить рисование этой областью.
    Размер сцены также влияет на размер генерируемых масок столкновений, поэтому если у вас большой размер сцены и много кадров в анимации, вы можете съесть много памяти. Поэтому используйте точные маски столкновений только в том случае.
      если это действительно необходимо.
    Поскольку SWF-файл создается из нескольких слоев, некоторые из которых могут перекрываться, альфа работает не совсем так, как в растровых спрайтах - перекрывающиеся области будут выглядеть не такими прозрачными, как другие части спрайта, так как пиксели в них
      перерисовываются несколько раз.
    Растровые заливки поддерживаются , хотя если вы используете плиточные растровые заливки как часть вашего SWF-файла, вам нужно убедиться, что размер растрового изображения равен двум целым, иначе оно не будет плиточным. Рендеринг текста также поддерживается, но для этого необходимо
      встроить шрифт в SWF-файл, чтобы он отобразился в результирующем спрайте. Кроме того, в настоящее время поддерживается только однострочный текст с левым выравниванием.
  
   
   
   
  
    
      
        Назад: Группы текстур
        Следующий: Страницы текстур
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  

