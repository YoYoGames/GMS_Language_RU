
  
  buffer_load_async
  С помощью этой функции вы можете загрузить файл, созданный ранее с помощью функции buffer_save() (или любой другой функции для сохранения буферов) в буфер. Смещение" определяет начальную
    позицию в буфере для загрузки (в байтах), а "size" - размер области буфера, загружаемой с этого смещения и далее (также в байтах). Вы можете указать значение -1 для аргумента size, и тогда будет загружен весь буфер.
    Обратите внимание, что функция будет загружаться из папки "по умолчанию", которую не нужно включать в указанный вами путь к файлу. Эта папка будет создана, если она не существует или когда вы сохраняете файл с помощью функции buffer_save_async().
  Функция возвращает уникальное значение ID, которое затем может быть использовано в асинхронном событии сохранения/загрузки для проверки значения  async_load    ID, как показано в расширенном примере ниже. Карта async_load в событии будет содержать следующие две пары ключ/значение:
  
    "id": идентификатор асинхронной функции, возвращаемый функцией сохранения.
    "status": возвращает true, если данные были сохранены/загружены правильно, и false в противном случае.
  
  ПРИМЕЧАНИЕ: На HTML5 это предпочтительный метод загрузки файла, если вы загружаете его с сервера, а не из локального хранилища, так как синхронная загрузка уже устарела в большинстве браузеров и со временем будет отменена.
   
  Синтаксис:
  buffer_load_async(buffer, filename, offset, size);
  
    
      
        Аргумент
        Описание
      
      
        буфер
        Индекс буфера для загрузки.
      
      
        имя файла
        Имя файла для загрузки.
      
      
        смещение
        Смещение в буфере для загрузки (в байтах).
      
      
        размер
        Размер загружаемой области буфера (в байтах).
      
    
  
   
  Возвращается:
  Реально
   
  Расширенный пример:
  Функция buffer_load_async() может быть вызвана из любого события, и поскольку она является асинхронной, обратный вызов может быть почти мгновенным или занять несколько секунд. Вызов функции прост и выглядит следующим образом:
  loadid = buffer_load_async(buff, "Player_Save.sav", 0, 16384);
  Приведенный выше код загружает содержимое файла "Player_Save.sav" в заданный буфер, сохраняя идентификатор вызова функции в переменной " loadid". Когда загрузка будет завершена, асинхронное событие Save/Load будет
    и вы сможете проанализировать карту async_load на предмет правильного ID функции, как показано ниже:
  если ds_map_find_value(async_load, "id") == loadid {
     if ds_map_find_value(async_load, "status") == false {
     show_debug_message("Load failed!"); }
     }
  
  Приведенный выше код сначала проверит ID созданной карты DS, затем проверит статус обратного вызова, опубликовав отладочное сообщение, если возникли какие-либо проблемы.
   
   
  
    
      
        Назад: Буферы
        Далее: буферная_загрузка_частичная
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

