
  
  буфер_создать
  Вы используете эту функцию для выделения части памяти под буфер в вашей игре, при этом функция возвращает уникальный идентификатор буфера, который должен храниться в переменной и использоваться для всех последующих вызовов функций к буферу. Затем буфер может быть
    использоваться для хранения различных типов данных (указывается при записи в буфер с помощью функции buffer_write() функции, при этом для определения типа буфера используются следующие константы:
   
  
    
      
        Постоянная
        Описание
      
      
        буфер_фиксированный
        Буфер фиксированного размера.
      
      
        buffer_grow
        Буфер, который будет динамически "расти" по мере добавления данных
      
      
        буферная_обёртка
        Буфер, в который будут "заворачиваться" данные. Когда добавляемые данные достигнут предела размера буфера, перезапись будет помещена обратно в начало буфера, и дальнейшая запись продолжится с этого момента.
      
      
        буферный_быстрый
        Специальный "полосатый" буфер, который чрезвычайно быстро читается/записывается. Может использоваться только с типами данных buffer_u8 и должен быть выровнен по 1 байту.
      
      
        буфер_vbuffer
        Этот тип буфера должен использоваться только в качестве буфера вершин.
      
    
  
   
  Помимо типа буфера, вам также необходимо задать выравнивание байтов для буфера. Это значение зависит от данных, которые вы хотите сохранить в буфере, и в большинстве случаев значение 1 вполне подходит. Однако имейте в виду, что
    для некоторых операций необходимо определенное выравнивание, и неправильное выравнивание может привести к ошибкам (подробнее о выравнивании см. раздел " Буферы"). Ниже приведено общее
    руководство, показывающее, какие значения наиболее подходят для каждого типа данных (если есть сомнения, используйте выравнивание 1):
  
    Строки должны быть выровнены по 1 байту.
    Знаковые или беззнаковые 8-битные целые числа могут быть выровнены по любому значению, но обратите внимание, что для быстрого буфера (см. buffer_write()) оно должно быть выровнено по 1.
    Знаковые или беззнаковые 16-битные целые числа должны быть выровнены по 2 байтам.
    Знаковые или беззнаковые 32-битные целые числа должны быть выровнены по 4 байтам
    Плавающие символы размером до 16 бит должны быть выровнены по 2 байтам. (В настоящее время не поддерживается!)
    Плавающие символы размером до 32 бит должны быть выровнены по 4 байтам.
    Плавающие символы размером до 64 бит должны быть выровнены по 8 байтам.
  
  ПРИМЕЧАНИЕ: Выравнивание байтов может быть очень важным, так как неправильный выбор может отрицательно повлиять на производительность.
  ПРИМЕЧАНИЕ: Важно, чтобы вы удаляли из памяти любые динамически созданные ресурсы, подобные этому, когда они вам больше не нужны, чтобы предотвратить утечку памяти, поэтому, когда вы закончите работу с созданным буфером, вы должны освободить его снова
    использование buffer_delete().
   
  Синтаксис:
  buffer_create(size, type, alignment)
  
    
      
        Аргумент
        Описание
      
      
        размер
        Размер (в байтах) буфера.
      
      
        тип
        Тип создаваемого буфера (см. список констант выше).
      
      
        выравнивание
        Выравнивание байтов для буфера
      
    
  
   
  Возвращается:
  Int (ID буфера вершин)
   
  Пример:
  player_buffer = buffer_create(16384, buffer_fixed, 2);
  Приведенный выше код выделяет 16384 байта памяти под буфер и возвращает индекс этого буфера, который хранится в переменной "player_buffer", для дальнейшего использования. Буфер выравнивается по границе в два байта.
   
   
   
  
    
      
        Назад: Буферы
        Далее: buffer_create_from_vertex_buffer
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

