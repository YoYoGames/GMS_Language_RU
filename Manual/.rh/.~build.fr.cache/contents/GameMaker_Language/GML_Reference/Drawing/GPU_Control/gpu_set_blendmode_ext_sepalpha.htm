
  
  gpu_set_blendmode_ext_sepalpha
  Когда GameMaker Studio 2 рисует пиксель, есть исходный цвет (цвет пикселя, который мы собираемся нарисовать) и конечный цвет (цвет, который уже есть в пикселе, к которому мы рисуем).
    пикселя, исходный и конечный цвета вычисляются в соответствии с выбранным режимом наложения. Каждый компонент цветов хранится как значение с плавающей точкой между 0 и 1, а новый цвет вычисляется путем умножения каждого компонента
    исходного цвета на некоторый коэффициент и умножением каждого компонента цвета назначения на некоторый другой коэффициент, а затем суммированием результатов по компонентам.
  Эта функция позволяет установить различные компоненты, которые должны быть разложены вместе для создания пользовательского режима наложения, выбирая различные части различных коэффициентов режима наложения для компонентов RGB и компонента Alpha. Таким образом, аргументы "src"
    и "dest" будут использовать первые 3 значения режима наложения (RGB), а аргументы "alphasrc" и "alphadest" - последнюю часть коэффициента режима наложения. Например, если источник RGB имеет значение bm_zero,
    то будет использовано значение (0, 0, 0). Если затем задать для источника Alpha значение bm_one, то будет использовано значение (1), что даст окончательный режим наложения источника (0, 0, 0, 0, 1).
  На следующей диаграмме показаны значения RGBA для каждого режима наложения, где (Rs, Gs, Bs, As) считаются исходными значениями, а (Rd, Gd, Bd, Ad) - конечными. Одиннадцать констант, доступных для использования, могут быть как исходными, так и целевыми
    (или обе) при использовании в этой функции.
  
    
      
        Постоянная
        Коэффициент смешивания (красный, зеленый, синий, альфа)
      
      
        bm_zero
        (0, 0, 0, 0)
      
      
        bm_one
        (1, 1, 1, 1)
      
      
        bm_src_colour
        (Rs, Gs, Bs, As)
      
      
        bm_inv_src_colour
        (1-Rs, 1-Gs, 1-Bs, 1-As)
      
      
        bm_src_alpha
        (As, As, As, As, As)
      
      
        bm_inv_src_alpha
        (1-Ас, 1-Ас, 1-Ас, 1-Ас, 1-Ас)
      
      
        bm_dest_alpha
        (Ad, Ad, Ad, Ad, Ad)
      
      
        bm_inv_dest_alpha
        (1-Ad, 1-Ad, 1-Ad, 1-Ad, 1-Ad)
      
      
        bm_dest_colour
        (Rd, Gd, Bd, Ad)
      
      
        bm_inv_dest_colour
        (1-Rd, 1-Gd, 1-Bd, 1-Ad)
      
      
        bm_src_alpha_sat
        (f, f, f, 1), где f = min(As, 1-Ad)
      
    
  
  ВАЖНО! HTML5 без включенного WebGL не сможет корректно отображать следующие режимы:
  
    bm_src_colour
    bm_inv_src_colour
    bm_dest_colour
    bm_inv_dest_colour
    bm_src_alpha_sat
  
   
  Обратите внимание, что вы можете либо передать четыре отдельных аргумента этой функции, либо массив аргументов (как возвращает функция gpu_get_blendmode_ext_sepalpha() например).
    Если вы передаете массив, то он должен содержать следующие четыре элемента:
  
    [0] = режим наложения источника за вычетом альфа-компонента (по умолчанию bm_src_alpha (As, As, As))
    [1] = Режим наложения назначения за вычетом альфа-компонента (по умолчанию bm_inv_src_alpha (1-As, 1-As, 1-As)).
    [2] = исходный альфа-компонент (по умолчанию bm_src_alpha (As))
    [3] = Альфа-компонент назначения (по умолчанию bm_inv_src_alpha (1-As))
  
  Чтобы максимально использовать режимы наложения и понять, как они работают и как влияют на конечное изображение, выводимое на экран, мы рекомендуем вам ознакомиться со следующим руководством:
  
    Руководство по использованию блендмодов
  
   
  Синтаксис:
  gpu_set_blendmode(src, dest, alphasrc, alphadest);
  
    
      
        Аргумент
        Описание
      
      
        src
        Коэффициент исходного режима наложения для RGB (см. константы выше).
      
      
        dest
        Коэффициент режима наложения для RGB (см. константы выше)
      
      
        alphasrc
        Коэффициент режима наложения Alpha (см. константы выше).
      
      
        alphadest
        Коэффициент режима наложения назначения Альфа (см. константы выше)
      
    
  
   
  Возвращается:
  Н/Д
   
  Пример:
  var bm = gpu_get_blendmode_ext_sepalpha(); bm[0] = bm_src_alpha; bm[1] = bm_inv_src_alpha; gpu_set_blendmode_ext_sepalpha(bm);
  
  Приведенный выше код создает локальный массив и получает текущий расширенный режим наложения с отдельными альфа-значениями. Затем этот массив обрабатывается и возвращается для установки режима наложения.
   
   
   
  
    
      
        Назад: Управление графическим процессором
        Далее: gpu_set_colourwriteenable
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

