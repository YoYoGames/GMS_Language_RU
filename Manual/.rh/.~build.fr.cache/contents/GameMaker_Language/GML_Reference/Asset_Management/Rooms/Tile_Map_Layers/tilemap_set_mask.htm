
  
  tilemap_set_mask
  Эта функция может быть использована для установки битовой маски плитки для одной карты плитки. Вы передаете ID элемента карты тайлов (который вы получаете при создании элемента карты тайлов с помощью команды layer_tilemap_create() или когда
    вы используете функцию layer_tilemap_get_id()), а затем значение маски. Идея заключается в том, что если у вас, например, довольно маленький набор плиток 16 x 16, то у вас есть в общей сложности 256 различных плиток
    в вашем наборе плиток, что использует только 8 бит вашего индекса в "блоке" данных плитки (из доступных 19 бит данных). Эти биты могут быть "замаскированы", а оставшаяся часть данных плитки может быть использована для хранения дополнительных значений.
  Простой способ получить начальное значение индекса маски - взять количество плиток в наборе плиток и вычесть 1, так что набор плиток 16x16 имеет 256 плиток и значение маски 255 (или $ff в шестнадцатеричной системе), а если набор плиток имеет количество плиток, не равное
    округлите до ближайшей степени двойки, чтобы получить маску, например, набор плиток 20x20 имеет 400 плиток, которые вы округлите до 512, и таким образом получите индексное значение маски 511 ($1ff в шестнадцатеричной системе). Кроме индексной маски,
    обычно вы хотите сохранить значения флипа, поворота и зеркала, которые присвоены плитке, поэтому для этого есть несколько констант, которые можно использовать. Они могут быть "или" вместе со значением индексной маски, чтобы сохранить
    эти биты данных. Можно использовать следующие константы (использование см. в примере кода ниже):
   
  
    
      
        Постоянная
        Описание
      
      
        вращение_плитки
        Используется для установки/получения бита поворота блока данных плитки.
      
      
        зеркальная плитка
        Используется для установки/получения зеркального бита блока данных плитки.
      
      
        плитка_флип
        Используется для установки/получения флип-бита блока данных плитки.
      
      
        маска_индекса_плитки
        Специальная константа, которая используется для "и"-соединения с блобом данных плитки для извлечения индекса плитки.
      
    
  
   
  Маскирование битов карты плитки является расширенной функцией и позволяет использовать биты "блоба" данных плитки для собственных нужд. Например, пользователь может зарезервировать бит, означающий "твердый" в структуре данных тайла, и затем этот бит может быть проверен на наличие
    быстрых столкновений. В принципе, битовая маска "и" - накладывается на данные тайла, когда рисуется карта тайла (поэтому она не влияет на другие функциональные возможности), что означает, что биты, не входящие в маску, игнорируются, но все еще могут
    быть прочитаны и записаны пользователем для своих собственных целей. Обратите внимание, что существует две разные маски - глобальная и для каждой карты тайлов, - и перед тем, как использовать их для рисования, GameMaker Studio 2 соединяет их вместе.
   
  Синтаксис:
  tilemap_set_mask(tilemap_element_id, mask)
  
    
      
        Аргумент
        Описание
      
      
        tilemap_element_id
        Уникальное значение ID элемента карты плитки для установки маски
      
      
        маска
        Значение маски
      
    
  
   
  Возвращается:
  Н/Д
   
  Пример:
  var lay_id = layer_get_id("Tiles_sky"); var map_id = layer_tilemap_get_id(lay_id); var mask = tile_mirror | tile_flip | tile_rotate | 255; tilemap_set_mask(map_id, mask);
  Приведенный выше код получает ID карты плитки из данного слоя, а затем устанавливает битовую маску карты плитки в 8 бит, сохраняя значения flip, mirror и rotate для каждой плитки в карте.
   
   
   
  
    
      
        Назад: Плитка Слои карты
        Далее: tilemap_set_global_mask
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

