
  
  audio_listener_set_velocity
  Эта функция может быть использована для придания заданному слушателю эффекта Доплера и имитации движения звука на основе вектора, который определяется из заданных относительных положений x, y и z. По умолчанию индекс слушателя равен 0, но вы можете использовать функцию
    audio_get_listener_info() для получения различных индексов, доступных для целевой платформы.
  Если данный слушатель никогда не будет двигаться, или движение не является постоянным, вам обычно не нужно устанавливать эти значения, но, например, если вы создаете скроллинговую игру, где игрок имеет постоянное движение снизу вверх и
    враги имеют постоянное движение сверху вниз, вы должны установить скорости слушателя и эмиттера (для эмиттеров вы будете использовать audio_emitter_velocity()) на соответствующие векторы
    чтобы смоделировать правильный эффект Доплера при движении мимо экземпляра игрока.
  На рисунке ниже показано, как это можно настроить для приведенного выше примера игры:
  
  Синтаксис:
  audio_listener_set_velocity(index, x, y, z);
  
    
      
        Аргумент
        Описание
      
      
        индекс
        Слушатель, для которого необходимо получить данные (по умолчанию 0).
      
      
        x
        x-скорость слушателя (по умолчанию 0).
      
      
        y
        Скорость y слушателя (по умолчанию 0).
      
      
        z
        Скорость z слушателя (по умолчанию 0).
      
    
  
   
  Возвращается:
  Н/Д
   
  Пример:
  var num = audio_get_listener_count(); for(var i = 0; i < num; ++i;) {
     var info = audio_get_listener_info(i); var data = audio_listener_get_data(info[? "index"]); if data[? "vx"] != 0 {
     audio_listener_set_velocity(info[? "index"], 0, 0, 0, 0); }
     ds_map_destroy(info);
     ds_map_destroy(data);
     }
  
  Приведенный выше код проверяет количество доступных слушателей, затем перебирает их и, если их x-скорость не равна 0, устанавливает их значения скорости на 0, 0, 0.
   
   
   
  
    
      
        Назад: Слушатели аудио
        Далее: audio_listener_set_orientation
         
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

