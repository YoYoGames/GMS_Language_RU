
  
  audio_create_buffer_sound
  С помощью этой функции вы можете создать новый звук из содержимого буфера. Буфер будет создан ранее (см. функции буфера для получения подробной информации о том, как это сделать), и в него будут добавлены или
    загружены в него. Затем вы передаете этой функции формат данных (в настоящее время поддерживаются только buffer_u8 или buffer_s16 ), частоту дискретизации (которая может быть от 1000 Гц до 48000 Гц) и смещение в буфере для получения данных.
    из. Также необходимо указать количество сэмплов в буфере и каналы, которые требуются звуку. Эти каналы определяются одной из следующих констант:
   
  
    
      
        Постоянная
        Описание
      
      
        audio_mono
        Монофонический (одноканальный) звук.
      
      
        audio_stereo
        Стерео (двухканальный) звук.
      
      
        audio_3D
        3D (5.1) аудио.
      
    
  
   
  Обратите внимание, что после создания звука необходимо освободить связанный с ним индекс указателя, когда он больше не нужен, используя функцию audio_free_buffer_sound(). Если вы не сделаете этого и
    затем переназначить переменную или изменить комнату и т.д., идентификатор звука будет потерян и произойдет утечка памяти. Также обратите внимание, что вы не можете удалить буфер, если из него был создан какой-либо звук и он не был сначала освобожден. Поэтому вам следует
    сначала освободите звук (или звуки), а затем удалите буфер. Также стоит отметить, что добавление чего-либо в буфер или изменение размера буфера после того, как из него был создан звук, приведет к неожиданным результатам, и это не рекомендуется делать
    - если вы начали создавать звуки из какого-либо буфера, не следует в дальнейшем манипулировать им каким-либо другим образом.
   
  Синтаксис:
  audio_create_buffer_sound(bufferId, bufferFormat, bufferRate, bufferOffset, bufferLength, bufferChannels);
  
    
      
        Аргумент
        Описание
      
      
        bufferId
        Идентификатор буфера, который будет использоваться.
      
      
        bufferFormat
        Формат данных в буфере(buffer_u8 или buffer_s16).
      
      
        bufferRate
        Частота дискретизации данных в буфере.
      
      
        bufferOffset
        Смещение в буфере для чтения данных выборки (в байтах).
      
      
        bufferLength
        Длина буфера (количество байт аудиоданных, исключая заголовок).
      
      
        bufferChannels
        Используемые каналы из одной из перечисленных ниже констант.
      
    
  
   
  Возвращается:
  Целое число (идентификатор звука)
   
  Пример:
  var rate = 44100; var hertz = irandom_range(220, 880); var samples = 44100; var bufferId = buffer_create(rate, buffer_fast, 1); var buffer_seek(bufferId, buffer_seek_start, 0); var num_to_write = rate / hertz; var length
    = buffer_get_size(bufferId) ; var val_to_write = 1; for (var i = 0; i < (samples / num_to_write) + 1; i++;)  {
     for (var j = 0; j < num_to_write; j++;) {
     buffer_write(bufferId, buffer_u8, val_to_write * 255); }
     val_to_write = (1 - val_to_write); }
     soundId = audio_create_buffer_sound(bufferId, buffer_u8, rate, 0, length, audio_stereo);
  Вышеописанное создает буфер, а затем процедурно заполняет его данными. Эти данные затем используются для создания нового звука, который хранится в переменной "soundId".
   
   
   
  
    
      
        Назад: Аудио буферы
        Далее: audio_free_buffer_sound
         
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

