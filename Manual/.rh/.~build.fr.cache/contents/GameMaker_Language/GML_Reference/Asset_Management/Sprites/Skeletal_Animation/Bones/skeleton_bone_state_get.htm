
  
  skeleton_bone_state_get
  Ваша скелетная анимация состоит из ряда "костей", которые вы определили и дали им имена в вашей программе анимации, и эта функция может быть использована для получения определенных данных для названной кости в любое время. Обратите внимание, что эти данные относятся
    к текущей позе скелета, в зависимости от используемого набора анимации, и функция требует предварительно созданной карты DS, которая будет иметь следующие ключи и их
    эквивалентные значения после вызова функции:
  
    "x": Локальная x-позиция кости относительно родительской кости.
    "y": Локальная позиция y кости относительно родительской кости.
    "угол": Локальный поворот кости относительно родительской кости.
    "xscale": Локальный горизонтальный масштаб кости по отношению к родительской кости.
    "yscale": Локальный вертикальный масштаб кости по отношению к родительской кости.
    "worldScaleX": Величина (всегда положительная) мирового масштаба X (это значение доступно только для чтения ).
    "worldScaleY": Величина (всегда положительная) мирового масштаба Y (это значение доступно только для чтения ).
    "worldAngleX": Поворот мира для оси X (это значение доступно только для чтения ).
    "worldAngleY": Поворот мира для оси Y (это значение доступно только для чтения ).
    "worldX": Положение мира X (это значение доступно только для чтения ).
    "worldY": Положение мира по оси Y (это значение доступно только для чтения ).
    "appliedAngle": Это локальное вращение, используемое для позиционирования костей скелета.
    "parent": Имя (строка) родительской кости.
  
  Возвращаемые данные карты аналогичны тем, которые возвращаются для позы по умолчанию при использовании функции skeleton_bone_data_get()только теперь у вас есть дополнительные "мировые" ключи. Они относятся к положению кости
    относительно корня (origin) спрайта скелетной анимации, и возвращаемые значения не учитывают никакого масштабирования или вращения, которое было сделано путем установки встроенных переменных спрайта, таких как image_xscale или image_angle.
    Значения world доступны только для чтения и не могут быть установлены.
  Эта функция предоставляется для того, чтобы вы могли "перехватить" данные анимации и изменить их до того, как они будут нарисованы на экране, и поэтому вы захотите использовать ее в событии Other - Animation Update, поскольку это событие запускается непосредственно перед событием Draw Events.
   
  Синтаксис:
  skeleton_bone_state_get(bone, map);
  
    
      
        Аргумент
        Описание
      
      
        кость
        Имя (в виде строки) кости.
      
      
        карта
        (ранее созданная) карта DS, в которой хранятся данные о костях.
      
    
  
   
   
  Возвращается:
  Н/Д
   
  Пример:
  var map = ds_map_create(); skeleton_bone_state_get("head", map); var xx = ds_map_find_value(map, "worldX"); var yy = ds_map_find_value(map, "worldY"); var deltax = mouse_x - (x + xx); var deltay
    = mouse_y - (y + yy); var angle = -radtodeg(arctan2(deltay, deltax)); ds_map_replace(map, "angle", angle); skeleton_bone_state_set("head", map); ds_map_destroy(map);
  
  Приведенный выше код создает карту DS, а затем заполняет ее данными из кости с именем "голова". Затем он извлекает мировую позицию для кости и использует эти данные для установки "угла" кости, чтобы отслеживать положение мыши в
    игре.
   
   
   
  
    
      
        Спина: кости
        Далее: skeleton_bone_state_set
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

