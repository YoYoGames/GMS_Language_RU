
  
  sprite_add
  С помощью этой функции вы можете добавить изображение в спрайт, загрузив его из внешнего источника. Загружаемый файл изображения всегда должен быть в формате *.png, *.gif, *.jpg/jpeg или *.json( файлы*json используются для загрузки спрайтов скелетной анимации, созданных с помощью Spine). Функция возвращает новый индекс спрайта, который затем должен использоваться во всем дальнейшем коде, относящемся к спрайту. Если
    вы используете эту функцию в HTML5 или получаете изображение из URL, эта функция также генерирует асинхронное событие Image Loaded. Смотрите эту страницу для
    дополнительную информацию.
  Все изображения, которые должны быть превращены в анимированные спрайты - за исключением *.gif (см. ниже) - должны иметь формат "strip" (см. рисунок ниже) и будут разбиты на указанное количество суб-изображений по правилу sprite width = strip width / sub images.
  
  Как видно на изображении выше, спрайт был помещен на темно-фиолетовый фон, и это можно убрать, установив аргумент "removeback" в true. Это работает путем проверки левого нижнего пикселя спрайта на предмет
    и затем использует его в качестве цвета для удаления. Например, на изображении выше, если бы цвет левого нижнего пикселя был зеленым, все зеленые части спрайта были бы удалены, а остальной фиолетовый фон проигнорирован.
  Если вы выбрали опцию "removeback", вы также можете захотеть, чтобы GameMaker Studio 2 сгладила края спрайта, установив аргумент "smooth" в true. При этом создается полупрозрачная граница по краям спрайта.
    спрайта после удаления его фона.
  Наконец, вы можете указать начало координат x и y для спрайта. Это точка, в которой спрайт "фиксируется" на экземпляре, который его использует, и всегда вычисляется относительно левого верхнего угла 0,0 одного подизображения спрайта. Таким образом,
    например, спрайт размером 32 x 32 пикселя с этими значениями, установленными на (16,16), будет иметь начало в центре.
  Если вы добавляете изображение формата *.gif, то вам нужно указать только имя файла и номер изображения (который должен быть равен 1 для первого кадра), а все остальные аргументы можно оставить равными 0, отметив, что будет загружено только первое изображение GIF.
    Для *.json спрайтов номер изображения должен быть равен 1, а параметры "removeback" и "smooth" будут проигнорированы.
  По умолчанию все новые спрайты имеют свои ограничивающие рамки, рассчитываемые автоматически (точная ограничивающая рамка зависит от размера и прозрачности спрайта), однако вы можете захотеть настроить это, в этом случае вам также следует использовать функцию
    sprite_collision_mask().
  Следует отметить, что память, используемая при добавлении спрайта таким способом, будет больше, чем вы ожидаете. Это связано с тем, что GameMaker Studio 2 будет хранить спрайт в виде текстурной страницы , а также в памяти GPU, поэтому общий объем памяти
    будет больше, чем можно было бы ожидать для файла изображения того же спрайта.
  ПРИМЕЧАНИЕ: Когда вы загружаете спрайт в GameMaker Studio 2, вы должны не забыть удалить его снова (с помощью функции sprite_delete()), когда он больше не нужен, иначе существует риск утечки памяти, что приведет к замедлению и
    и в конечном итоге приведет к краху вашей игры.
  ПРИМЕЧАНИЕ: На iOSесли вы загружаете включенный файл из папки, т.е. с путем типа "Backgrounds/background1.png", вам НЕ нужно указывать папку в качестве части
    путь и достаточно просто указать имя файла. На всех других платформах вы должны указать папку(и) как часть пути к файлу.
  ПРИМЕЧАНИЕ: В HTML5, если вы загружаете спрайт с безопасного сервера, вам может потребоваться установить тип cross-origin и использовать относительный путь вместо абсолютного. См. http_set_request_crossorigin() для
    более подробную информацию.
   
  Синтаксис:
  sprite_add(fname, imgnumb, removeback, smooth, xorig, yorig);
  
    
      
        Аргумент
        Описание
      
      
        fname
        Имя (строковый путь к файлу) файла для добавления.
      
      
        imgnum
        Используется для указания количества подизображений (1 для одиночного изображения или для *.gif).
      
      
        удалить назад
        Указывает, делать ли все пиксели с цветом фона (левый-нижний пиксель) прозрачными.
      
      
        гладкий
        Указывает, следует ли сглаживать края, если они прозрачные.
      
      
        xorig
        Укажите x-позицию начала координат в спрайте.
      
      
        yorig
        Укажите положение начала координат по оси y в спрайте.
      
    
  
   
  Возвращается:
  Real (значение идентификатора спрайта)
   
  Пример:
  spr = sprite_add("player_5.png", 16, true, true, 0, 0);
  Приведенный выше код загружает спрайт в игру и сохраняет его индекс в переменной "spr".
   
   
   
  
    
      
        Назад: Манипуляция спрайтом
        Далее: sprite_replace
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

