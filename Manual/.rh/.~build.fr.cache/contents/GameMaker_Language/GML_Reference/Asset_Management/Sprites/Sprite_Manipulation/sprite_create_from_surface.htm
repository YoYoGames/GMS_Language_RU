
  
  sprite_create_from_surface
  С помощью этой функции можно создать спрайт из ранее инициализированной поверхности (значение идентификатора индекса поверхности возвращается при создании поверхности с помощью функции surface_create()). Координаты x и
    y, которые вы затем вводите в функцию, должны быть относительно позиции (0,0) поверхности (левый верхний угол), а не окна игры (или вида, если он активен). Аргументы width и height задаются в пикселях и
    определяют ширину и высоту используемой части поверхности.
  Установка аргумента "removeback" в true удалит цвет из спрайта, проверяя левый нижний пиксель спрайта на наличие там цвета и затем используя его в качестве удаляемого цвета.
  Если вы выбрали опцию "removeback", вы также можете захотеть, чтобы GameMaker Studio 2 сгладила края спрайта, установив аргумент "smooth" в true. При этом создается полупрозрачная граница по краям спрайта.
    спрайта после удаления его фона.
  Наконец, вы можете указать начало координат x и y для спрайта. Это точка, в которой спрайт "фиксируется" на экземпляре, который его использует, и всегда вычисляется относительно левого верхнего угла 0,0 одного подизображения спрайта. Таким образом,
    например, спрайт размером 32 x 32 пикселя с этими значениями, установленными на (16,16), будет иметь начало в центре.
  По умолчанию все новые спрайты имеют свои ограничивающие рамки, которые рассчитываются автоматически (точный размер bbox зависит от размера и прозрачности спрайта), однако вы можете захотеть настроить это, в этом случае вам также следует использовать функцию sprite_collision_mask().
  ПРИМЕЧАНИЕ: Когда вы создаете спрайт в GameMaker Studio 2 с помощью этого метода, вы должны не забыть удалить его снова (с помощью функции sprite_delete()), когда он больше не нужен, иначе существует риск утечки памяти, что приведет к замедлению и, в конечном счете, к краху вашей игры.
    замедлит работу и в конечном итоге приведет к краху вашей игры.
   
  Синтаксис:
  sprite_create_from_surface(index, x, y, w, h, removeback, smooth, xorig, yorig);
  
    
      
        Аргумент
        Описание
      
      
        индекс
        Индекс поверхности, на основе которой будет создано изображение.
      
      
        x
        Позиция x для копирования.
      
      
        y
        Позиция y для копирования.
      
      
        w
        Ширина копируемой области (от позиции x).
      
      
        h
        Высота копируемой области (от позиции y).
      
      
        удалить назад
        Указывает, делать ли все пиксели с цветом фона (левый-нижний пиксель) прозрачными.
      
      
        гладкий
        Указывает, нужно ли сглаживать края.
      
      
        xorig
        Указывает x-позицию начала координат в спрайте.
      
      
        yorig
        Указывает позицию y начала координат в спрайте.
      
    
  
   
  Возвращает
  Real (уникальное значение ID спрайта)
   
  Пример:
  var surf; surf = surface_create(32, 32); surface_set_target(surf);
     draw_clear_alpha(c_black, 0); draw_sprite(spr_Body, 0, 0, 0); draw_sprite(spr_Clothes, 0, 0, 0); draw_sprite(spr_Hair, 0, 0, 0); spr_custom = sprite_create_from_surface(surf, 0, 0, 0, 32, 32, true, true, 16, 16); surface_reset_target();
     surface_free(surf);
  
  Приведенный выше код создает поверхность и сохраняет ее индекс в локальной переменной "surf". Затем он нацеливается на эту поверхность, очищает ее и рисует несколько спрайтов друг над другом. Наконец, он создает новый спрайт из составного изображения, нарисованного на поверхности
    и присваивает его индекс переменной "spr_Custom", после чего освобождает память, используемую поверхностью.
   
   
   
  
    
      
        Назад: Манипуляция спрайтом
        Далее: sprite_add_from_surface
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

