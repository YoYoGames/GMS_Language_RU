
  
  skeleton_bone_state_set
  Ваша скелетная анимация состоит из ряда "костей", которые вы определили и дали им имена в вашей программе анимации, и эта функция может быть использована для установки определенных данных для названной кости в любое время. Обратите внимание, что эти данные
    устанавливают текущую позу для скелета, в зависимости от используемого набора анимации, и функция требует предварительно созданной карты DS, которая должна иметь следующие ключи и их
    необходимые значения:
  
    "x": Локальная x-позиция кости относительно родительской кости.
      
    "y": Локальная позиция y кости относительно родительской кости.
      
    "угол": Локальный поворот кости относительно родительской кости.
      
    "xscale": Локальный горизонтальный масштаб кости.
      
    "yscale": Локальный вертикальный масштаб кости.
      
    "parent": Имя (строка) родительской кости.
  
  Эта функция предоставляется для того, чтобы вы могли "перехватить" данные анимации и изменить их до того, как они будут нарисованы на экране, и поэтому вы захотите использовать ее в событии Other - Animation Update, поскольку это событие запускается непосредственно перед событием Draw Events.
  Обратите внимание, что вы можете использовать ту же карту, которую вы заполнили с помощью функции skeleton_bone_state_get() даже если она содержит дополнительные ключи и значения "World". Поскольку они относятся к значениям, доступным только для чтения, их установка с помощью этой функции не окажет никакого влияния.
   
  Синтаксис:
  skeleton_bone_state_set(bone, map);
  
    
      
        Аргумент
        Описание
      
      
        кость
        Имя (в виде строки) кости.
      
      
        карта
        (ранее созданная) карта DS, в которой хранятся данные о костях.
      
    
  
   
  Возвращается:
  Н/Д
   
  Пример:
  var map = ds_map_create(); skeleton_bone_state_get("head", map); var xx = ds_map_find_value(map, "worldX"); var yy = ds_map_find_value(map, "worldY"); var deltax = mouse_x - (x + xx); var deltay
    = mouse_y - (y + yy); var angle = -radtodeg(arctan2(deltay, deltax)); ds_map_replace(map, "angle", angle); skeleton_bone_state_set("head", map); ds_map_destroy(map);
  
  Приведенный выше код создает карту DS, а затем заполняет ее данными из кости с именем "голова". Затем он извлекает мировую позицию для кости и использует эти данные для установки "угла" кости, чтобы отслеживать положение мыши в
    игре.
   
   
   
  
    
      
        Спина: кости
        Далее: skeleton_bone_list
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

