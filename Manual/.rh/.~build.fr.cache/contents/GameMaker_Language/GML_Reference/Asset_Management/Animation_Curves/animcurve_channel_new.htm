
  
  animcurve_channel_new
  Эта функция может быть использована для создания новой структуры канала анимационной кривой. Структура канала имеет следующие переменные:
   
  
    
      
        Имя переменной
        Тип данных
        Описание
      
      
        имя
        строка
        Это название канала.
      
      
        тип
        постоянная
        Это будет одна из констант animcurvetype_linear - для линейной интерполяции между точками - или animcurvetype_catmullrom - для "гладкой" интерполяции между точками с помощью интерполяции catmull-rom.
      
      
        итераций
        целое число
        Если канал использует интерполяцию катмул-ром ("гладкую"), это значение показывает, сколько точек было сгенерировано для каждого сегмента кривой (обратите внимание, что эти дополнительные точки являются внутренними для функции и используются только для вычислений во время выполнения).
          Если канал использует линейную интерполяцию, это значение все равно будет существовать, но его можно игнорировать, так как оно не влияет на то, как интерполируется кривая.
      
      
        пункты
        указатель массива
        Это массив, где каждый элемент массива является структурой точки.
      
    
  
   По умолчанию при создании новой структуры канала переменная "name" будет пустой строкой, "type" - animcurvetype_linear , а "iterations " - 16. Все эти переменные могут быть установлены в
    значения, которые вам нужны (обратите внимание, что значение "итерации" не влияет на линейные типы кривых). После создания кривой необходимо добавить точки к ней, что делается путем добавления различных структур точек в массив "points".
    Эти структуры точек могут быть созданы с помощью функции animcurve_point_new(), и содержат следующие переменные:
   
  
    
      
        Имя переменной
        Тип данных
        Описание
      
      
        posx
        настоящий
        Положение во времени (нормированное от 0 до 1) точки.
      
      
        значение
        настоящий
        Значение точки.
      
    
  
   
   
  Синтаксис:
  animcurve_channel_new();
   
  Возвращается:
  Ссылка на структуру
   
  Пример:
  my_curve = animcurve_create(); my_curve.name = "My_Curve"; var _channels = array_create(1); _channels[0] = animcurve_channel_new(); _channels[0].name = "alpha"; _channels[0].type = animcurvetype_catmullrom; _channels[0].iterations = 8; var _points = array_create(3); _points[0] = animcurve_point_new(); _points[0].posx = 0; _points[0].value = 0; _points[1] = animcurve_point_new(); _points[1].posx = 0.5; _points[1].value
    = 1; _points[2] = animcurve_point_new(); _points[2].posx = 1; _points[2].value = 0; _channels[0].points = _points; my_curve.channels = _channels;
  Приведенный выше код создает новую структуру анимационной кривой и сохраняет ее в переменной "my_curve". Затем эта структура заполняется именем и массивом каналов. Массив каналов содержит один канал с тремя точками.
   
   
   
  
    
      
        Назад: Анимационные кривые
        Далее: animcurve_point_new
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

