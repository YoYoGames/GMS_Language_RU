
  
  animcurve_get_channel
  Эта функция возвращает структуру, содержащую данные канала для канала, указанного в активе кривой анимации. Вы передаете ID или struct анимационной кривой, а также имя или индекс канала,
    и функция вернет структуру со следующим форматом:
   
  
    
      
        Имя переменной
        Тип данных
        Описание
      
      
        имя
        строка
        Это название канала.
      
      
        тип
        постоянная
        Это будет одна из констант animcurvetype_linear для линейной интерполяции между точками, или animcurvetype_catmullrom для "гладкой" интерполяции между точками с помощью интерполяции catmull-rom.
      
      
        итераций
        целое число
        Если канал использует интерполяцию катмул-ром ("гладкую"), это значение показывает, сколько точек было сгенерировано для каждого сегмента кривой (обратите внимание, что эти дополнительные точки являются внутренними для функции и используются только для расчетов во время выполнения).
          Если канал использует линейную интерполяцию, это значение будет существовать, но его можно игнорировать, так как оно не влияет на то, как интерполируется кривая.
      
      
        пункты
        указатель массива
        Это массив, где каждый элемент массива является структурой точки.
      
    
  
   ID кривой анимации - это имя кривой анимации в том виде, в котором она была определена в браузере активов, или указатель struct, возвращаемый функцией animcurve_create(). Имя канала - это строка, которая
    или вы можете указать значение индекса от 0 до n, где n - последний канал в активе кривой (например: если кривая анимации имеет 4 канала, они будут проиндексированы от 0 до 3).
    от 0 до 3). Обратите внимание, что передача значения индекса требует меньше обработки, чем передача имени канала. Если функция не сработает (т.е. не существует канала с заданным именем или индексом), то вы получите ошибку.
  Точки одного канала хранятся в виде структур в массиве, где каждый элемент массива является структурой одной точки. Структура точки имеет следующие переменные:
   
  
    
      
        Имя переменной
        Тип данных
        Описание
      
      
        posx
        настоящий
        Положение во времени (нормированное от 0 до 1) точки.
      
      
        значение
        настоящий
        Значение точки.
      
    
  
   
   
  Синтаксис:
  animcurve_get_channel(curve_struct_or_id, channel_name_or_index);
  
    
      
        Аргумент
        Описание
      
      
        curve_struct_or_id
        Идентификатор или указатель структуры анимационной кривой, на которую нужно нацелиться
      
      
        имя_канала_или_индекс
        Имя канала (строка) или индекс канала (целое число).
      
    
  
   
  Возвращается:
  Структура
   
  Пример:
  var _channeldata = animcurve_get_channel(ac_ButtonTween, 0); var _points = _channeldata.points; for (var i = 0; i < array_length(_points); ++i;)  {
     _points[i].value += 1; }
  
  Приведенный выше код извлекает структуру канала для канала 0 в активе кривой "ac_ButtonTween", затем проходит по точкам кривой канала и добавляет единицу к их значению.
   
   
   
  
    
      
        Назад: Анимационные кривые
        Далее: animcurve_channel_evaluate
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

