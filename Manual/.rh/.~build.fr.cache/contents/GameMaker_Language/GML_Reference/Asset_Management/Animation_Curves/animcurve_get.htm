
  
  animcurve_get
  Эта функция возвращает структуру, содержащую все данные для заданной кривой анимации. Вы указываете идентификатор актива кривой анимации (как определено в браузере активов), и функция возвращает struct
    со следующими переменными:
   
  
    
      
        Имя переменной
        Тип данных
        Описание
      
      
        имя
        строка
        Это имя кривой анимации.
      
      
        каналы
        указатель массива
        Это массив, где каждый элемент массива является структурой канала.
      
    
  
   Переменная channels в struct представляет собой массив, где каждый элемент массива является struct с данными, относящимися к каналу в кривой. Структура канала будет содержать следующие переменные:
   
  
    
      
        Имя переменной
        Тип данных
        Описание
      
      
        имя
        строка
        Это название канала.
      
      
        тип
        постоянная
        Это будет одна из констант animcurvetype_linear для линейной интерполяции между точками, или animcurvetype_catmullrom для "гладкой" интерполяции между точками с помощью интерполяции catmull-rom.
      
      
        итераций
        целое число
        Если канал использует интерполяцию катмул-ром ("гладкую"), это значение показывает, сколько точек было сгенерировано для каждого сегмента кривой (обратите внимание, что эти дополнительные точки являются внутренними для функции и используются только для вычислений во время выполнения).
          Если канал использует линейную интерполяцию, это значение все равно будет существовать, но его можно игнорировать, так как оно не влияет на то, как интерполируется кривая.
      
      
        пункты
        указатель массива
        Это массив, где каждый элемент массива является структурой точки.
      
    
  
   Как и в случае с каналами, точки одного канала хранятся как структуры в массиве, где каждый элемент массива - это одна структура точки. Структура точки имеет следующие переменные:
   
  
    
      
        Имя переменной
        Тип данных
        Описание
      
      
        posx
        настоящий
        Положение во времени (нормированное от 0 до 1) точки.
      
      
        значение
        настоящий
        Значение точки.
      
    
  
   Обратите внимание, что если функция не сработает (т.е. заданный идентификатор кривой анимации не существует), то функция вернет -1.
   
   
  Синтаксис:
  animcurve_get(curve_id);
  
    
      
        Аргумент
        Описание
      
      
        идентификатор кривой
        Идентификатор (индекс) браузера активов кривой анимации, которую необходимо получить.
      
    
  
   
  Возвращается:
  Структура или -1
   
  Пример:
  var _curve = animcurve_get(ac_ButtonTween); var _channel = _curve.channels[0]; if _channel.type != animcurvetype_linear {
     _channel.type = animcurvetype_linear; }
  
  Приведенный выше код извлекает структуру кривой анимации для актива кривой "ac_ButtonTween", затем проверяет тип кривой для первого канала, и если он не является линейным, то устанавливает его на линейный.
   
   
   
  
    
      
        Назад: Анимационные кривые
        Далее: animcurve_get_channel
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

