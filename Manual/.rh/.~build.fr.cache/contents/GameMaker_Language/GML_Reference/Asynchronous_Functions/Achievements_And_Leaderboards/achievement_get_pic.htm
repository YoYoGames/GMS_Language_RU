
  
  achievement_get_pic
  Эта функция отправит запрос на сервер для получения изображения игрока или друга и вызовет обратный вызов Social Asynchronous Event, который содержит async_load    карту, заполненную соответствующими парами ключ/значение. Ключ id этой карты DS Map используется для идентификации правильного обратного вызова (для любого асинхронного события может быть более одной триггерной функции) и будет сопряжен с константой achievement_pic_loaded, а также рядом других пар ключ/значение. Точное содержимое карты показано ниже:
  ПРИМЕЧАНИЕ: Эта функция предназначена iOS только.
  
    " id" - Для данной функции это должно быть achievement_pic_loaded
    "playerid" - идентификатор игрока или друга, изображение которого мы получаем.
    " spriteid" - идентификатор спрайта для изображения, который затем может быть использован для рисования его на экране с помощью любой из функцийdraw sprite
  
  ВНИМАНИЕ! Эта функция создает спрайты, поэтому их идентификаторы должны храниться в переменных, а затем удаляться из памяти с помощью функции sprite_delete()    иначе повторное использование приведет к утечке памяти, что в конечном итоге приведет к замедлению или краху вашей игры.
   
  Синтаксис:
  achievement_get_pic(char)
  
    
      
        Аргумент
        Описание
      
      
        char
        id человека, изображение которого нужно получить (либо из списка друзей, либо из таблицы лидеров).
      
    
  
   
  Возвращается:
  Н/Д
   
  Расширенный пример:
  Следующий код будет вызван после того, как вы получите список друзей или список лидеров, используя achievement_load_friends() или achievement_load_leaderboard().
    Эти функции вернут уникальные значения "id" для каждого человека, которые затем будут использованы в функции для получения изображения профиля для них:
  achievement_get_pic(global.player_id[0]);
  Это отправит запрос на изображение, связанное с идентификатором игрока, хранящимся в глобальном массиве, и создаст асинхронный обратный вызов со специальной картой async_load DS, содержащей следующие данные:
  var ident = ds_map_find_value(async_load, "id"); if ident == achievement_pic_loaded {
     var picid = ds_map_find_value(async_load, "playerid"); var spriteid = ds_map_find_value(async_load, "spriteid"); if global.playerid[0] == picid) {
     global.playerpic[0] = spriteid; }
     }
  
  Приведенный выше код проверяет возвращенную DS Map в Social Asynchronous Event и если ее "id" совпадает с проверяемой константой, то проверяется, совпадает ли id, связанный с изображением, с запрашиваемым, и если да, то устанавливается другой глобальный массив, содержащий уникальный id (который можно использовать для рисования спрайта).
    он устанавливает другой глобальный массив для хранения уникального идентификатора изображения (который может быть использован для рисования изображения в виде спрайта).
   
   
   
  
    
      
        Назад: Достижения и таблицы лидеров
        Далее: achievement_load_friends
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

