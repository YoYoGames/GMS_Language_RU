
  
  достижение_загрузки_друзей
  Эта функция отправит запрос на сервер для получения информации обо всех друзьях вошедших в систему пользователей и вызовет обратный вызов Social Asynchronous Event, который содержит
    async_load карту, заполненную соответствующими парами ключ/значение. Ключ id этой карты DS используется для идентификации правильного обратного вызова (может быть
    может быть более одной триггерной функции для любого данного асинхронного события), и будет сопряжен с константой achievement_friends_info, а также рядом других пар ключ/значение для каждого друга. Точное содержимое карты
    показано ниже:
  ПРИМЕЧАНИЕ: Эта функция предназначена iOS только.
  
    " id" - Для этой функции это должно быть achievement_friends_info
    "FriendN" - Имя друга, где "N" - целочисленное значение, соответствующее его положению в списке друзей.
    "FriendidN" - Уникальный идентификатор пользователя друга, "N".
  
   
  Синтаксис:
  achievement_load_friends()
   
  Возвращается:
  Н/Д
   
  Расширенный пример:
  Следующий код, вероятно, будет вызван после того, как игрок войдет в свой игровой аккаунт, используя achievement_login() чтобы получить список всех друзей этого пользователя:
  achievement_friends_info();
  Это отправит запрос на информацию о друзьях пользователя и сгенерирует асинхронный обратный вызов со специальной картой async_load DS, содержащей следующие данные:
  var ident = ds_map_find_value(async_load, "id"); if ident == achievement_friends_info {
     var numfriends = ds_map_find_value(async_load, "numfriends"); global.numfriends = numfriends; for(var i=0; i < numfriends; i++;) {
     global.friendname[i] = ds_map_find_value(async_load, "Friend" + string(i)); global.friendid[i] = ds_map_find_value(async_load, "Friendid" + string(i)); achievement_get_pic(global.friendid[i]);
     }
     }
  
  Приведенный выше код проверяет возвращенную DS Map в Social Asynchronous Event и, если ее "id" совпадает с проверяемой константой, он затем проходит по карте, сохраняя все различные значения в несколько массивов, и запрашивает
    изображение для каждой из записей в карте (см. achievement_get_pic()).
   
   
   
  
    
      
        Назад: Достижения и таблицы лидеров
        Далее: achievement_load_leaderboard
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

