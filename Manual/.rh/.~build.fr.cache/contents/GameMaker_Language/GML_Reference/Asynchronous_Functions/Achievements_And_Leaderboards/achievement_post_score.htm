
  
  оценка_достижения_поста
  Вы можете использовать эту функцию для отправки своего результата в выбранный сервис таблиц лидеров и достижений. На Android вы отправляете ID таблицы результатов в виде строки (это уникальный ID таблицы лидеров, который был присвоен при настройке таблицы лидеров), а на
    на всех других платформах вы передаете определенное название таблицы лидеров в виде строки, а затем фактическое значение очков. Функция вызовет социальное асинхронное событие, в котором возвращаемая async_load DS map будут следующие пары ключ/значение:
  
    " type"- Это тип события, которое было запущено,для данной функции это будет строка "achievement_post_score_result".
    " id" - Это идентификатор события, и для этой функции он возвращает GML-константу GooglePlayServices_EVENT_ID_POST_SCORE .
    "leaderboard_id" - Это уникальный идентификатор обновленной доски лидеров.
    "status" - Значение будет равно 1, если баллы были обновлены успешно, или 0, если запрос не был выполнен.
    " daily_new_best" - Будет равно 1, если присланный результат был лучшим для пользователя за последний день, или 0 в противном случае.
    " daily_best" - Здесь будет храниться лучший результат пользователя за последний день игры.
    " weekly_new_best" - Значение будет равно 1, если представленный результат был лучшим для пользователя за последнюю неделю, и 0 в противном случае.
    " weekly_best" - Здесь хранится лучший результат пользователя за последнюю неделю.
    " all_time_new_best" - Значение будет равно 1, если присланная оценка была лучшей за все время, или 0 в противном случае.
    " all_time_best" - Здесь хранится лучший результат пользователя за все время.
  
   
  Синтаксис:
  achievement_post_score(leaderboard, score)
  
    
      
        Аргумент
        Описание
      
      
        таблица лидеров
        Название/идентификатор таблицы лидеров.
      
      
        счет
        Счет, который будет отправлен.
      
    
  
   
  Возвращается:
  Н/Д
   
  Расширенный пример:
  if achievement_available() { achievement_post_score(global.LeaderboardID, 1000); }
  Приведенный выше код проверяет, доступен ли выбранный сервис таблиц лидеров и достижений, и если да, то публикует результат в таблице результатов под названием "Leaderboard". Это вызовет событие Social Async Event, которое можно разобрать следующим образом:
  if async_load[? "id"] == GooglePlayServices_EVENT_ID_POST_SCORE {
     if async_load[? "type"] == "achievement_post_score_result" {
     if async_load[? "status"] == 1 {
     global.Best_Day = async_load[? "daily_best"]; global.Best_Week = async_load[? "weekly_best"]; global.Best = async_load[? "all_time_best"]; }
     }
     }
  
  Приведенный выше код проверяет карту DS async_load на наличие ключей "id" и "type", соответствующих этой функции, а затем проверяет статус события. Если статус равен 1, то некоторые значения из карты DS сохраняются в глобальных
    переменные.
   
   
   
  
    
      
        Назад: Достижения и таблицы лидеров
        Далее: достижение_инкремент
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

