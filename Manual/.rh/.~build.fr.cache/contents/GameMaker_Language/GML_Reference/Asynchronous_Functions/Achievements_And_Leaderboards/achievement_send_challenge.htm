
  
  достижение_отправить_задачу
  Эта функция отправит вызов по сети выбранному игроку. Вы можете получить идентификатор игрока, используя achievement_load_friends() или achievement_load_leaderboard()    а также необходимо указать challengeid - уникальное значение, присвоенное задаче при ее создании на панели iTunes Connect или Google Play. Вы также должны указать счет и короткое текстовое сообщение, а также установить
   тип задачи. Это может быть одна из следующих констант:
   
  
    
      
        Постоянная
        Описание
      
      
        тип_достижения_оценка_задачи 
        Задача, основанная на значении очков.
      
      
        тип_достижения_достижения_задача 
        Вызов, основанный на достижении.
      
    
  
   
  Эта функция вызовет обратный вызов Social Asynchronous Event для игрока, который должен получить вызов, и в этом событии у вас будет карта DS, на которую ссылаются
    в переменной async_load. Ключ id этой DS-карты используется для идентификации правильного обратного вызова (для любого асинхронного события может быть более одной функции запуска) и будет сопряжен с константой achievement_challenge_received, а также рядом других пар ключ/значение для каждого игрока. Точное содержимое карты показано ниже:
  ПРИМЕЧАНИЕ: пользователь также может получать уведомления о полученных вызовах, но это будет зависеть от значений, которые вы выбрали с помощью функции achievement_show_challenge_notifications().
  
    " id" - Для этой функции это должно быть achievement_leaderboard_info
    "playerid" - Идентификатор игрока для вызова.
    " issuerid" - Идентификатор эмитента для вызова.
    " state" - Состояние вызова, которое будет иметь значение 0 - 3 (в виде строки) для недействительного, ожидающего , завершенного или отклоненного.
    "message" - Текстовое сообщение для вызова.
    "completeddate" - Дата завершения задачи.
    "issueddate" - Дата выдачи вызова.
    " type"- Тип брошенного вызова. Может быть одной из двух констант, перечисленных выше
    " identifier" - Идентификационная строка для вызова, установленная на приборной панели провайдера.
    " score" - Оценка, связанная с вызовом (если применимо).
  
   
  Синтаксис:
  achievement_send_challenge(playerid, challengeid, score, type, message)
  
    
      
        Аргумент
        Описание
      
      
        playerid
        Уникальный идентификатор игрока, которому необходимо бросить вызов.
      
      
        challengeid
        Уникальный идентификатор вызова (как указано на приборной панели провайдера).
      
      
        счет
        Счет для победы.
      
      
        тип
        тип выдаваемого вызова - одна из двух констант, приведенных ниже.
      
      
        сообщение
        Сообщение, которое нужно прикрепить к вызову.
      
    
  
   
  Возвращается:
  Н/Д
   
  Расширенный пример:
  Для отправки вызова по сети вам потребуется следующий код:
  achievement_send_challenge(global.playerid[0], global.challengeid[0], score, achievement_type_score_challenge, "Beat that sucker!");
  Этот запрос вызовет социальное событие в вашей игре для игрока, на которого был направлен вызов, и с этим можно поступить следующим образом:
  var ident = ds_map_find_value(async_load, "id"); if ident == achievement_challenge_received {
     player_id = ds_map_find_value(async_load, "playerid"); issuer_id = ds_map_find_value(async_load, "issuerid"); state = ds_map_find_value(async_load, "state"); message = ds_map_find_value(async_load,
    "message"); date_completed = ds_map_find_value(async_load, "completeddate"); date_issued = ds_map_find_value(async_load, "issueddate"); ach_type = ds_map_find_value(async_load, "type"); ach_ident = ds_map_find_value(async_load, "identifier"); ach_score = ds_map_find_value(async_load, "score"); }
  
  Приведенный выше код проверяет возвращенную DS Map в Social Asynchronous Event и, если ее "id" совпадает с проверяемой константой, то извлекает соответствующие значения для каждого из ключей в карте и сохраняет их в переменных
    для дальнейшего использования.
   
   
   
  
    
      
        Назад: Достижения и таблицы лидеров
        Далее: achievement_reset
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

