
  
  доска достижений_загрузки_лидеров
  Эта функция отправляет запрос на сервер для получения информации о заданной таблице лидеров. Таблица лидеров должна быть создана ранее на панели разработчика для вашей игры, а заданный ID является тем, который вы должны указать в качестве первого аргумента
    функции. Это вызовет обратный вызов Social Asynchronous Event, который содержит async_load    карту, заполненную соответствующими парами ключ/значение. Ключ id этой DS Map используется для идентификации правильного обратного вызова (для любого асинхронного события может быть более одной функции запуска), и он будет сопряжен с константой achievement_leaderboard_info, а также рядом других пар ключ/значение для каждого игрока. Точное содержимое карты показано ниже:
  ПРИМЕЧАНИЕ: эта функция предназначена iOS только.
  
    " id" - Для этой функции это должно быть achievement_leaderboard_info
    "leaderboardid" - Уникальный ID для таблицы лидеров, определенный на приборной панели провайдера.
    " numentries" - Количество записей в таблице лидеров, которые вы получили.
    "PlayerN" - Имя игрока, где "N" - целочисленное значение, соответствующее его позиции в списке лидеров.
    "PlayeridN" - Уникальный идентификатор пользователя игрока, "N".
    " RankN" - Ранг игрока "N" в таблице лидеров.
    " ScoreN" - счет игрока "N".
  
  Вы можете указать точную часть таблицы лидеров для показа, задав минимальное и максимальное значение индекса, а также запросить фильтрацию результатов, чтобы получить только результаты ваших друзей или результаты всех игроков, используя следующие параметры
   константы фильтра:
   
  
    
      
        Постоянная
        Описание
      
      
        фильтр_достижений_только_для_друзей 
        Получайте только оценки игроков-друзей.
      
      
        фильтр_достижений_всех_игроков 
        Получите все результаты для всех игроков.
      
    
  
   
   
  Синтаксис:
  achievement_load_leaderboard(ident, minindex, maxindex, filter)
  
    
      
        Аргумент
        Описание
      
      
        идентификатор
        Уникальный идентификатор таблицы лидеров, отображаемый на приборной панели разработчика.
      
      
        minindex
        Начальное значение индекса для получения данных таблицы лидеров.
      
      
        maxindex
        Максимальное значение индекса для получения данных таблицы лидеров.
      
      
        фильтр
        Следует ли отфильтровать результаты для тех, кто находится в списке ваших друзей, или для всех игроков (см. описание ниже).
      
    
  
   
  Возвращается:
  Н/Д
   
  Расширенный пример:
  Следующий код, вероятно, будет вызван после того, как игрок войдет в свою игровую учетную запись, используя achievement_login() для получения списка всех позиций друзей в таблице лидеров в игре, на Android
    или iOS:
  если os_type == os_ios {
     achievement_load_leaderboard("CgkIs9_51u0PEAIQBw", 1, 100, achievement_filter_friends_only); }
  
  Это отправит запрос на получение информации о данной таблице лидеров и сгенерирует асинхронный обратный вызов со специальной картой async_load DS, содержащей следующие данные:
  var ident = ds_map_find_value(async_load, "id"); if ident == achievement_leaderboard_info {
     var lbid = ds_map_find_value(async_load, "leaderboardid"); if lbid == "CgkIs9_51u0PEAIQBw" || lbid == "leaderboard1id" {
     global.numentries = ds_map_find_value(async_load, "numentries"); for(var i = 0; i < numentries; i++;) {
     global.playername[i] = ds_map_find_value(async_load, "Player" + string(i)); global.playerid[i] = ds_map_find_value(async_load, "Playerid" + string(i)); global.playerrank[i] =
    ds_map_find_value(async_load, "Rank" + string(i)); global.playerscore[i] = ds_map_find_value(async_load, "Score" + string(i)); achievement_get_pic(global.playerid[i]);
     }
     }
     }
  
  Приведенный выше код проверяет возвращаемую DS Map в Social Asynchronous Event, и если ее "id" совпадает с проверяемой константой, он затем проверяет, что отправляемая таблица лидеров соответствует исходному вызову функции, прежде чем
    перебора карты и хранения всех различных значений в нескольких массивах. Он также запрашивает изображение для каждой из записей в карте (см. achievement_get_pic()).
   
   
   
  
    
      
        Назад: Достижения и таблицы лидеров
        Далее: достижение_загрузки_прогресса
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

