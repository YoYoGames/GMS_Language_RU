
  
  достижение_логин
  Эта функция регистрирует пользователя в соответствующем сервисе таблиц лидеров и достижений. Если сервис недоступен, пользователь входит в "притворный" игровой центр, и все достижения и баллы сохраняются на устройстве, чтобы, когда
    когда будет доступен настоящий сервис, эти данные можно будет загрузить. Функция вызовет обратный вызов Social Asynchronous Event, который содержит async_load    карту, заполненную соответствующими парами ключ/значение. Ключ id этой карты DS Map используется для идентификации правильного обратного вызова (для любого асинхронного события может быть более одной функции запуска), и он будет сопряжен с константой achievement_our_info, а также рядом других пар ключ/значение для каждого вызова. Точное содержимое карты показано ниже:
  
    " id" - Для данной функции это должно быть achievement_our_info
    " name"- Имя пользователя, который в данный момент вошел в систему.
    "playerid" - Уникальный идентификатор игрока для пользователя, который в данный момент вошел в систему.
  
   
  Синтаксис:
  achievement_login()
   
  Возвращается:
  Н/Д
   
  Расширенный пример:
  Следующий код, вероятно, будет вызываться в самом начале игры или из специального объекта-кнопки, который вы разместили в комнате, и будет запрашивать, чтобы игрок вошел в свою учетную запись Google Game Services или Apple Game center:
  achievement_login();
  Это отправит запрос на получение текущей информации об игроке и сгенерирует асинхронный обратный вызов со специальной картой async_load DS, содержащей следующие данные:
  var ident = ds_map_find_value(async_load, "id"); if ident == achievement_our_info {
     var name = ds_map_find_value(async_load, "name" ); var playerid = ds_map_find_value(async_load, "playerid" ); global.OurName = name; global.OurId = playerid; if os_type == os_android {
     achievement_load_leaderboard("CgkIs9_51u0PEAIQBw", 1, 100, achievement_filter_friends_only); }
     else
     {
     achievement_load_leaderboard("leaderboard1id", 1, 100, achievement_filter_friends_only); }
     achievement_get_challenges();
     achievement_load_friends();
     achievement_load_progress();
     }
  
  Приведенный выше код проверяет возвращенную DS Map в социальном асинхронном событии, и если ее "id" совпадает с проверяемой константой, то она проходит по карте, сохраняя все различные значения в переменных, прежде чем вызвать остальные функции для подготовки списков лидеров.
    функций для подготовки таблиц лидеров, вызовов и списков друзей.
   
   
   
  
    
      
        Назад: Достижения и таблицы лидеров
        Далее: achievement_logout
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

