
  
  get_string_async
  Эта функция открывает окно и отображает сообщение, а также место для ввода пользователем строки (которая будет содержать заданную по умолчанию строку для начала). Это асинхронная функция, поэтому GameMaker Studio 2 не блокирует устройство, на котором она выполняется, в ожидании ответа.
    устройство, на котором она выполняется, в ожидании ответа, а продолжает выполнять события в обычном режиме. После того как пользователь набрал свою строку и нажал кнопку "Ок", запускается асинхронное событие Dialog , которое в течение всего времени ожидания ответа на вопрос
    которое, только на время этого события, будет иметь карту DS, хранящуюся в переменной async_load.
  Эта карта будет содержать три ключа, " id"," status" и "result". "id" - этозначение, которое было возвращено функцией при вызове, "status" будет
    будет либо true, если кнопка "Ок" была нажата, либо false, если сообщение было отменено (где это применимо, поскольку не все целевые платформы позволяют отменить сообщение). Наконец, "result" вернет строку
    которую ввел пользователь (или пустую строку "", если она не была введена).
  ПРИМЕЧАНИЕ: Эта функция предназначена только для отладки и тестированияи не должна использоваться в выпущенных играх. Для этих целей вы должны создать пользовательский интерфейс для получения ввода от игроков, чтобы иметь полный контроль над тем, как выглядят и ведут себя диалоги.
   
  Синтаксис:
  get_string_async(string, default);
  
    
      
        Аргумент
        Описание
      
      
        Строка
        Сообщение, которое будет показано в диалоге.
      
      
        по умолчанию
        Строка по умолчанию.
      
    
  
   
  Возвращается:
  Реально
   
  Расширенный пример:
   
   Событие нажатия левой кнопки мыши (например) объекта, который показывает сообщение, будет иметь следующий код:
  msg = get_string_async("What's your name?", "Anon");
  Выше будет показано сообщение, требующее, чтобы пользователь ввел строку и нажал "Ок". Идентификатор функции хранится в переменной "msg" и будет использован в асинхронном событии Dialogs, как показано ниже:
  var i_d = ds_map_find_value(async_load, "id"); if i_d == msg {
     if ds_map_find_value(async_load, "status") {
     if ds_map_find_value(async_load, "result") != "" {
     global.Name = ds_map_find_value(async_load, "result"); }
     }
     }
  
  Приведенный выше код сверяет ключ "id" возвращаемой DS Map со значением, хранящимся в переменной "msg". Если они совпадают, то проверяется, было ли нажато "Okay" (а не закрыто/отменено окно)
    и если возвращается true, то проверяется "результат" строки, чтобы убедиться, что не были возвращены пустые строки, прежде чем устанавливать глобальную переменную.
   
   
   
  
    
      
        Назад: Диалог
        Далее: get_integer_async
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

