
  
  physics_particle_get_data_particle
  Эта функция возвращает различные частицы информации об одной частице в физической симуляции, используя заданные флаги. Индекс частицы (ее ID) - это тот, который был возвращен функцией physics_particle_create(),
    а используемый буфер должен быть создан ранее с помощью функции buffer_create(). Он должен быть типа "grow", с размером, приблизительно равным размеру ожидаемых возвращаемых
    данных. Сами флаги устанавливаются с помощью констант, приведенных ниже, и для получения нужной информации можно использовать побитовую комбинацию или "|" для создания одного значения флага.
   
  
    
      
        Постоянная
        Описание
        Тип данных
      
      
        phy_particle_data_flag_typeflags
        Значение флагов для частицы.
        буфер_u32
      
      
        phy_particle_data_flag_position
        Позиция x и y частицы.
        2 x буфер_f32
      
      
        phy_particle_data_flag_velocity
        Горизонтальная и вертикальная скорость.
        2 x буфер_f32
      
      
        phy_particle_data_flag_colour
        Цвет и альфа-значение (шестнадцатеричное).
        буфер_f32
      
      
        phy_particle_data_flag_category
        Категория частицы (определенная при создании частицы).
        буфер_u32
      
    
  
   
  Синтаксис:
  physics_particle_get_data_particle(ind, buffer, flags)
  
    
      
        Аргумент
        Описание
      
      
        инд
        Индекс (ID) частицы для получения данных.
      
      
        буфер
        Буфер (ранее созданный), который будет использоваться для хранения данных.
      
      
        флаги
        Флаги, которые следует использовать для извлечения данных о конкретных типах частиц.
      
    
  
   
  Возвращается:
  Данные буфера
   
  Пример:
  var part = physics_particle_create(flags, x, y, x_vel, y_vel, c_white, 1, 1) var flags = phy_particle_data_flag_position | phy_particle_data_flag_velocity; var buffer = buffer_create(16, buffer_grow, 4); physics_particle_get_data_particle(part,
    buffer, flags); px = buffer_read(buffer, buffer_f32); py = buffer_read(buffer, buffer_f32); pvelx = buffer_read(buffer, buffer_f32); pvely = buffer_read(buffer, buffer_f32); buffer_delete(buffer);
  
  Приведенный выше код получает положение и скорость частицы, индексируемой переменной "part", и сохраняет данные в ряде переменных.
   
   
   
  
    
      
        Назад: Частицы мягкого тела
        Далее: physics_particle_group_get_data
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

