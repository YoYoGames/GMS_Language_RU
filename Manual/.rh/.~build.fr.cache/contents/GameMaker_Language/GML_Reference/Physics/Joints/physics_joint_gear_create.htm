
  
  physics_joint_gear_create
  Если вы хотите создать сложную механическую конструкцию, вам, возможно, захочется использовать шестеренки. В принципе, вы можете создать шестеренки в GameMaker Studio 2, используя составные экземпляры для моделирования зубьев шестеренок, но это не очень эффективно и может быть
    утомительным для автора! К счастью, существует более простой метод, который заключается в использовании зубчатого соединения. Для его создания необходимо предварительно определить приспособления и создать два основных шарнира, которые будут составлять вашу шестерню - они должны состоять из одного револьверного шарнира и либо призматического шарнира, либо еще одного револьверного шарнира. На рисунке ниже показано, как обычно создается шестерня
    в игре:
  Так что же происходит? Когда два шарнира добавлены в механизм, взаимодействие с одним из них будет иметь эффект
    так, на примере выше, если вы вращаете inst2, то inst3 будет двигаться вверх и вниз, или если вы двигаете inst3 вверх и вниз, то inst2 будет вращаться. Вы также можете изменить передаточное число, то есть вам нужно переместить один экземпляр больше (или
    меньше), чтобы получить желаемый эффект. Код в примере внизу показывает, как можно создать нечто подобное изображению выше.
  ПРИМЕЧАНИЕ: Если вам нужно удалить один из двух экземпляров, участвующих в соединении шестеренок (или просто удалить их соединения), то сначала нужно удалить соединение шестеренок с помощью команды physics_joint_delete()    иначе вы получите ошибку!
   
  Синтаксис:
  physics_joint_gear_create(inst1, inst2, joint_1, joint_2, ratio)
  
    
      
        Аргумент
        Описание
      
      
        инст1
        Первая инстанция, которая соединяется с суставом
      
      
        инст2
        Вторая инстанция для соединения с суставом
      
      
        сустав_1
        Определенный ранее револьверный шарнир
      
      
        сустав_2
        Определенный ранее револьверный или призматический шарнир
      
      
        соотношение
        Установите соотношение скоростей между двумя шарнирами
      
    
  
   
  Возвращается:
  Целое число (индекс сустава)
   
  Пример:
  var t_fix, g_fix, inst1, inst2, inst3, r_joint, p_joint; g_fix = physics_fixture_create(); physics_fixture_set_box_shape(g_fix, 40, 10); t_fix = physics_fixture_create(); physics_fixture_set_circle_shape(t_fix, 10); physics_fixture_set_density(t_fix,
    0.5); inst1 = instance_create_layer(60, room_height - 30, "Background", obj_Ground); inst2 = instance_create_layer(40, room_height - 300, "Instances", obj_Cog); inst3 = instance_create_layer(150, room_height - 300,
    "Instances", obj_Barrel); physics_fixture_bind(g_fix, inst1); physics_fixture_bind(t_fix, inst2); physics_fixture_bind(t_fix, inst3); r_joint = physics_create_revolute_joint(inst1, inst2, 40, room_height - 300, -80, 80,
    1, 10, 0.5, 1, 0); p_joint = physics_create_prismatic_joint(inst1, inst3, 150, room_height - 300, 0, 1, -10, 10, true, 0, 0, 0, 0, 0); physics_create_gear_joint(inst2, inst3, r_joint, p_joint, 0.5);
  Приведенный выше код создает и определяет два приспособления, а затем создает три экземпляра, один "obj_Ground" и два других, "obj_Cog" и "obj_Barrel". Затем приспособления привязываются к этим экземплярам и создаются два шарнира. A
    револьверное соединение между землей и зубчатым колесом, и призматическое соединение между землей и стволом. Наконец, между экземплярами зубчатого колеса и ствола создается зубчатое соединение с использованием ранее определенных револьверного и призматического соединений.
   
   
   
  
    
      
        Назад: Суставы
        Далее: physics_joint_rope_create
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

