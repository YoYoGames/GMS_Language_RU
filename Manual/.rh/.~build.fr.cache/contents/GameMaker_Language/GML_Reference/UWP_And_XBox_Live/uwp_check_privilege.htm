
  
  uwp_check_privilege
  С помощью этой функции вы можете проверить, обладает ли данный пользователь выбранной привилегией. Функция вернет true или false в системном асинхронном событии в зависимости от того, включена привилегия или нет, а если вы зададите аргумент attempt_resolution равным
    true и привилегия не включена, она также откроет системный диалог (приостановив игру), чтобы предложить пользователю обновить учетную запись или что-либо еще, необходимое для получения привилегии. Если пользователь включит требуемую опцию, функция
    вернет true.
  Функция требует, чтобы вы использовали одну из следующих констант для запроса привилегий:
   
  
    
      
        Постоянная
        Описание
      
      
        uwp_привилегия_интернет_браузинга
        Проверьте, разрешен ли просмотр Интернета
      
      
        uwp_привилегия_социальной_сети_обмен информацией
        Проверьте, разрешено ли делиться информацией в социальных сетях
      
      
        uwp_privilege_share_kinect_content
        Проверьте, разрешено ли совместное использование контроллера Kinect
      
      
        uwp_привилегия_видео_коммуникации
        Проверьте, разрешена ли видеосвязь
      
      
        uwp_привилегия_коммуникаций
        Проверьте, разрешено ли общение через Интернет
      
      
        uwp_privilege_user_created_content
        Проверьте, разрешен ли доступ к содержимому, созданному пользователем
      
      
        uwp_privilege_multiplayer_sessions
        Проверьте, разрешены ли многопользовательские онлайн-сессии
      
      
        uwp_privilege_sessions
        Проверьте, разрешены ли онлайн-сессии
      
      
        uwp_privilege_fitness_upload
        Проверьте, разрешена ли загрузка фитнес-данных
      
    
  
   
  После вызова функции, на XBox One она вызовет асинхронное системное событие, когда будет получен результат обратного вызова, который будет иметь специальный DS
    map async_load. Затем эта карта должна быть разобрана для следующего ключа:
  
    " event_type" - должно иметь значение "check_privilege_result", если событие было вызвано этой функцией
  
  Если тип события относится к этой функции, то при вызове функции на XBox также появятся следующие дополнительные клавиши:
  
    "result" - Будет одной или несколькими из следующих констант (комбинированные значения):
      
        
          
            Постоянная
            Описание
            Значение
          
          
            uwp_privilege_result_no_issue
            У пользователя нет проблем с привилегиями
            0
          
          
            uwp_privilege_result_purchase_required
            Пользователь должен приобрести что-то дополнительное, обычно подписку, для получения доступа
            1
          
          
            uwp_privilege_result_aborted
            Проверка была прервана
            2
          
          
            uwp_privilege_result_banned
            Пользователь запрещен
            4
          
          
            uwp_privilege_result_restricted
            Пользователю ограничен доступ, обычно с помощью родительского контроля
            8
          
        
      
    
    
    " privilege" - будет одной из констант, перечисленных выше для использования в функции, чтобы вы могли проверить, какую привилегию вы запросили в случае нескольких проверок.
  
  Если проект выполняется на платформе UWP, которая не является XBox One, то событие Async Event не будет запущено, и вместо этого функция сразу вернет значение -1, 0 или 1:
  
    -1 означает -1 пользователь не имеет привилегии
    0 означает, что функция не смогла запросить пользователя
    1 означает, что пользователь имеет привилегию.
  
   
  Синтаксис:
  uwp_check_privilege(user_id, privilege, attempt_resolution);
  
    
      
        Аргумент
        Описание
      
      
        идентификатор пользователя
        Указатель идентификатора пользователя для проверки.
      
      
        привилегия
        Константа привилегий для проверки (см. описание, выше).
      
      
        попытка_решения
        Разрешить попытку разрешения, если установлено значение true, или игнорировать, если установлено значение false.
      
    
  
   
  Возвращается:
  Целое число
   
  Пример:
  var user_one = xboxlive_get_user(0); if (xboxlive_user_is_signed_in(user_one)) {
     uwp_check_privilege(user_one, xboxlive_privilege_multiplayer_sessions, true); }
  
  Приведенные выше действия проверяют, вошел ли пользователь в систему, и если вошел, то проверяют разрешение на многопользовательские сессии.
   
   
   
  
    
      
        Назад: UWP и XBox Live
        Далее: uwp_suspend
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

