
  
  xboxlive_stats_flush_user
  Эта функция может использоваться для пересылки данных статистики для данного пользователя из менеджера статистики на живой сервер, гарантируя, что сервер имеет актуальные значения. Согласно документации XBox, разработчики должны быть осторожны, чтобы не
    вызывать эту функцию слишком часто, так как XBox ограничит скорость запросов, а XBox OS в любом случае будет автоматически сбрасывать статистику примерно каждые 5 минут.
  ПРИМЕЧАНИЕ: Удаление пользователя может привести к ошибке, если статистика, установленная для пользователя, недействительна (например, имена статистики содержат неалфавитные цифровые символы).
  Чтобы использовать функцию, введите идентификатор пользователя, возвращаемый (например) функцией xboxlive_get_user(), и значение proprity (которое будет равно 1 для высокого приоритета и 0 для низкого).
    Функция вернет -1, если произошла ошибка или идентификатор пользователя недействителен, или любое другое значение, если функция была вызвана успешно. Функция также генерирует обратный вызов, который вызовет системное асинхронное событие.
    Это событие будет иметь специальную карту DS async_load, которая затем должна быть разобрана на предмет следующих ключей:
  
    " id" - Будет содержать константу achievement_stat_event
    " eventname" - Будет содержать строку "StatisticUpdateComplete".
    " userid" - Идентификатор пользователя, связанный с запросом
    " error" - 0 в случае успеха, другое значение, если произошла ошибка
    " errormessage" - Строка с сообщением об ошибке, если таковое имеется
  
  Обратите внимание, что статистика будет автоматически удалена, когда вы удалите пользователя из менеджера статистики. См. xboxlive_stats_remove_user() для получения дополнительной информации.
   
  Синтаксис:
  xboxlive_stats_flush_user(user_id, priority);
  
    
      
        Аргумент
        Описание
      
      
        идентификатор пользователя
        Идентификатор пользователя (указатель) для использования
      
      
        приоритет
        Значение приоритета (0 или 1)
      
    
  
   
  Возвращается:
  Реально
   
  Пример:
  for(var i = 0; i < array_length(user_id); ++i;)  {
     xboxlive_stats_flush_user(user_id[i], 0); }
  
  Приведенный выше код перебирает сохраненные идентификаторы учетных записей пользователей, а затем очищает данные менеджера статистики для каждого пользователя.
   
   
   
  
    
      
        Назад: Статистика и таблицы лидеров
        Далее: xboxlive_stats_set_stat_real
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

