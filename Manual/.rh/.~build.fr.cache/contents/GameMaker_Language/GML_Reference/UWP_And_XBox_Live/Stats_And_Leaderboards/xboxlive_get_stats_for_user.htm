
  
  xboxlive_get_stats_for_user
  Эта функция может использоваться для получения данных об определенной статистике с серверов Xbox Live. Вы предоставляете идентификатор пользователя, который возвращается функцией xboxlive_get_user()затем ваш игровой сервис
    ID конфигурации (как показано на консоли XDP), и, наконец, требуемые статистические данные. Вы можете запросить максимум 14 статистических данных, но это не гарантирует, что вы получите 14 результатов, так как существует ограничение на общую длину запроса и
    поэтому максимальное количество статистических данных зависит от длины имен самих статистических данных.
  Функция вернет 0, если запрос stat был отправлен, или -1, если произошла ошибка, а обратный вызов вызовет системное асинхронное событие. Это событие будет иметь
    специальная карта DS async_load которая затем должна быть разобрана на предмет следующего ключа:
  
    " event_type" - должна содержать строку " stat_result", еслисобытие было вызвано этой функцией
  
  Если тип события относится к этой функции, то также будет присутствовать следующий дополнительный ключ:
  
    " user"- содержит идентификатор пользователя для запрашиваемой статистики.
  
  Также может быть дополнительный набор пар ключ-значение, где ключ - это имя запрашиваемой статистики, а значение - значение этой статистики на сервере. Обратите внимание, что если стат никогда не был создан для данного пользователя (потому что он не вызывал событий, которые
    установить его), значение не может быть возвращено для этого стата (ds_map_exists() может использоваться для проверки наличия статов в карте async_load ).
  Если запрос не выполняется из-за того, что длина запроса слишком велика, в консольном выводе должно появиться сообщение с кодом ошибки:
  xboxlive_get_stats_for_user - возникло исключение при получении результатов - 0x80190190
  Когда это происходит, карта async event DS должна иметь ключ "succeeded" со значением "0", и в этом случае вы должны попытаться получить меньше статистики за один вызов.
   
  Синтаксис:
  xboxlive_get_stats_for_user(user_id, serviceconfig_id, statname1, ...);
  
    
      
        Аргумент
        Описание
      
      
        идентификатор пользователя
        Указатель идентификатора пользователя.
      
      
        serviceconfig_id
        Идентификатор файла конфигурации службы
      
      
        statname1 (2, 3 и т.д...)
        Имена статистик, для которых нужно получить информацию.
      
    
  
   
  Возвращается:
  Реально
   
  Пример:
  var _uid = xboxlive_get_user(0); var _configid = "00000000-0000-0000-0000-0000-00000000"; xboxlive_get_stats_for_user(xbuser, _configid, "GameProgress", "CurrentMode");
  Приведенный выше код получает идентификатор пользователя и затем использует его для запроса информации о конкретных статистических данных этого пользователя.
   
   
   
  
    
      
        Назад: Статистика и таблицы лидеров
        Далее: xboxlive_read_player_leaderboard
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

