
  
  gc_get_stats
  С помощью этой функции вы можете получить информацию о текущем состоянии сборщика мусора. Функция вернет структуру, которая будет содержать следующие переменные-члены (обратите внимание, что "объекты"
    здесь относится ко всему, что может быть собрано в мусор, а не к общим экземплярам объектов, как определено в Asset Browser):
  
    objects_touched - это количество активных объектов, найденных сборщиком мусора в предыдущем кадре. Это значение зависит от того, какое поколение было собрано.
    objects_collected - количество объектов, которые, по определению сборщика мусора, не были активны в предыдущем кадре, и поэтому могут быть удалены.
    traversal_time - это время в микросекундах (на основном потоке), которое потребовалось сборщику мусора, чтобы выяснить, какие объекты были активны.
    время_сбора - это время в микросекундах (в отдельном потоке), которое понадобилось сборщику мусора для очистки объектов, считающихся неактивными.
    gc_frame - это счетчик, который увеличивается каждый раз, когда происходит проход сборки мусора. Если сборка мусора отключена, этот счетчик не будет увеличиваться.
    generation_collected - это индекс поколения, которое было собрано последним. 0 - самое молодое поколение, а 3 - самое старое.
    num_generations - общее количество поколений сборки мусора.
    num_objects_in_generation - массив (размером num_generations), содержащий количество объектов в каждом поколении.
  
  ПРИМЕЧАНИЕ: На целевой платформе HTML5 сборка мусора осуществляется движком JavaScript, поэтому все переменные-члены в приведенной выше структуре вернут 0, если эта функция используется на этой платформе.
  При использовании этой функции следует учитывать, что информация, отображаемая для объектов, обновляется только после завершения обработки полного поколения, что может занять несколько кадров в зависимости от настройки времени кадра (более подробную информацию о времени кадра см. здесь ).
   
  Синтаксис:
  gc_get_stats();
   
  Возвращается:
  Структура
   
  Пример:
  if (global.debug == true) {
     var _s = gc_get_stats(); var _t = _s.traversal_time; var _c = _s.collection_time; show_debug_message("Traversal time = " + string(_t)) show_debug_message("Collection time = " + string(_c)) }
  
  Приведенный выше код проверяет глобальную переменную, и если она истинна, то получает информацию из garabge collector и выводит ее на консоль в виде отладочных сообщений.
   
   
   
  
    
      
        Назад: Сбор мусора
        Далее: gc_enable
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

