
  
  Структуры данных
  В играх часто требуется хранить информацию в точном и упорядоченном виде. Например, вам может понадобиться хранить списки предметов, которые несет человек, или сетку мест, которые еще нужно посетить. Сейчас вы можете использовать массивы
    но если вы хотите выполнить более сложные операции, например, сортировку данных или поиск определенного элемента, вам придется писать большие куски GML-кода, который может быть медленным в исполнении, трудным в отладке и настоящей мукой в написании!
  Для решения этой проблемы в GameMaker Studio 2 имеется ряд встроенных структур данных, доступ к которым можно получить с помощью специальных функций. Существует шесть различных типов структур данных, каждый из которых имеет свои преимущества в зависимости от типа информации, которую вы хотите хранить, и от того, как вы хотите ею впоследствии манипулировать: стеки, очереди, списки.
    информации, которую вы хотите хранить и как вы хотите манипулировать ею в дальнейшем: стеки, очереди, списки, карты, очереди приоритетов и сетки.
  По сути, все структуры данных работают одинаково - вы создаете структуру данных и сохраняете значение ее индекса в переменной. Затем вы используете этот индекс для ссылки на структуру данных во всех последующих вызовах функций, которые могут выполнять операции над ней.
    ней. Наконец, когда вы закончили, вы снова уничтожаете структуру данных, чтобы удалить ее из памяти. Вы можете использовать столько структур одновременно, сколько вам нужно, и все структуры могут хранить любой из доступных типов данных.
  ПРИМЕЧАНИЕ: Как и все динамические ресурсы, структуры данных занимают память, поэтому их всегда следует уничтожать, когда они больше не нужны, чтобы предотвратить утечку памяти, которая замедлит и в конечном итоге приведет к краху вашей игры.
  ВАЖНО! Когда вы создаете структуру данных, значение индекса для ее идентификации является целым числом, начинающимся с 0. Это означает, что разные структуры данных могут иметь одинаковое значение индекса, поэтому, если вы сомневаетесь, следует использовать функцию ds_exists    функцию перед обращением к ним. Также обратите внимание, что индексы используются повторно, поэтому значение индекса уничтоженной структуры данных может быть использовано вновь созданной, поэтому мы рекомендуем после уничтожения структуры данных установить любую переменную, содержащую индекс DS, в -1.
    структуру данных.
  Информацию о различных структурах данных можно найти в следующих разделах:
   
  
    Сетки
    Списки
    Карты
    Приоритетные очереди
    Очереди
    Стеки
  
   
  Прежде чем использовать структуры данных в своей игре, вы также должны знать, что существуют определенные моменты, когда из-за ошибок округления вы можете получить не тот результат, который ожидали. Это можно решить, изменив точность DS с помощью следующей функции
    функция:
   
  
    ds_set_precision
  
   
  Существует также специальная функция для проверки существования структуры данных любого заданного типа:
   
  
    ds_exists
  
   
   
   
  
    
      
        Назад: Ссылка наGML
        Следующий: Струны
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

