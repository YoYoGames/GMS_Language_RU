




  
  точечный_продукт
  Точечное произведение - это величина, выражающая угловое отношение между двумя векторами, которое находится путем взятия двух векторов, их умножения и последующего сложения. Название "точечное произведение" происходит от центрированной точки "-"
    которая часто используется для обозначения этой операции (альтернативное название "скалярное произведение" подчеркивает скалярную, а не векторную природу результата).
  Фактическая математическая формула может быть записана следующим образом:
  
  Так, в 2D точечное произведение векторов a[x1,y1] и b[x2,2] равно x1x2 + y1y2, что означает, что точечный_продукт в GameMaker Studio 2 вычисляется как:
  a - b = (x1*x2)+(y1*y2);
  Любопытно, что точечное произведение связано с углом, образованным входными векторами, который может быть выражен как:
  a - b = (длина a) * (длина b) * cos(угол)
  То есть, точечное произведение двух векторов будет равно косинусу угла между этими векторами, умноженному на длину каждого из них. Вот изображение для иллюстрации:
  
  ПРИМЕЧАНИЕ: Более подробную информацию о векторах см. здесь.
  Есть несколько вещей, которые мы теперь можем определить по любым двум векторам в зависимости от результата их точечного произведения:
  
    Если a и b перпендикулярны (находятся под углом 90 градусов друг к другу), результат точечного произведения будет равен нулю, потому что cos(ang) будет равен нулю.
    Если угол между a и b меньше 90 градусов, то точечное произведение будет положительным (больше нуля), так как cos(ang) будет положительным.
    Если угол между a и b больше 90 градусов, то точечное произведение будет отрицательным (меньше нуля), так как cos(ang) будет отрицательным.
  
  Что же это значит для тех из нас, кто создает игры? Эта математическая зависимость может быть использована в довольно многих обстоятельствах, но лучший способ увидеть ее - построить реальный сценарий и посмотреть, что происходит. Один из самых простых
    способов сделать это - сгенерировать простую проверку "прямой видимости" для врага, скажем, в платформенной игре, чтобы враг "видел" игрока, если он находится в пределах 90° по обе стороны от своего вектора нормали.
  По сути, нам нужно получить вектор нормали от врага (т.е. состоящий из направления и расстояния видимости)
    и затем нам нужно получить вектор игрока к врагу. Затем мы получим точечный_продукт этих векторов, и если результат положительный, то игрок был замечен, а если отрицательный, то нет. Фактический код для работы этой функции представлен
    в примере ниже.
   
  Синтаксис:
  dot_product(x1, y1, x2, y2)
  
    
      
        Аргумент
        Описание
      
      
        x1
        Координата x первого вектора.
      
      
        y1
        Координата y первого вектора.
      
      
        x2
        Координата x второго вектора.
      
      
        y2
        Координата y второго вектора.
      
    
  
   
  Возвращается:
  Реально
   
  Пример:
  var x1, y1, x2, y2; x1 = lengthdir_x(1, image_angle); y1 = lengthdir_y(1, image_angle); x2 = o_Player.x - x; y2 = o_Player.y - y; if dot_product(x1, y1, x2, y2) > 0 seen=true else seen=false;
  Приведенный выше код создает вектор, используя угол изображения экземпляра, а затем притягивает к себе вектор объекта игрока "o_Player". Наконец, он вычисляет точечное произведение этих двух векторов и, если оно больше 0, устанавливает переменную
    "seen" в true, а если оно равно или меньше 0, то устанавливает его в false.
   
   
   
  
    
      
        Назад: Углы и расстояние
        Далее: dot_product_3d
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

