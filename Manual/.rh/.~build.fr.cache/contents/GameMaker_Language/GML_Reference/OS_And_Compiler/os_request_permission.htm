
  
  os_check_permission
  С помощью этой функции вы можете запросить определенное разрешение. Вы указываете запрашиваемое разрешение в виде строки, используя формат "android.permission.<permission> ", поэтому для запроса разрешения RECORD_AUDIO ( например)
    вы вызовете
  os_request_permission("android.permission.RECORD_AUDIO");
  В ответ функция запустит системное асинхронное событие, в котором встроенная async_load    DS map будет содержать следующие пары ключ/значение:
  
    " type": Это тип события, которое было вызвано, а значением будет строка "permission_request_result".
    " <permission>": Это будет разрешение, запрашиваемое функцией в виде строки, которая будет содержать одну из следующих констант:
      
        
          
            Постоянная
            Описание
          
          
            os_permission_granted
            Указывает, что разрешение было предоставлено
          
          
            os_permission_denied
            Указывает, что разрешение не было предоставлено
          
        
      
    
  
   
  Стоит отметить, что следующие разрешения поддерживаются GameMaker Studio 2, но считаются "опасными" Google и поэтому должны быть запрошены в явном виде (обратите внимание, что некоторые разрешения могут быть запрошены с помощью функции "Параметры игры Android" без необходимости использования этой функции).
   Опции игрыAndroid без необходимости использования этой функции):
  
    android.permission.WRITE_EXTERNAL_STORAGE
    android.permission.READ_PHONE_STATE
    android.permission.RECORD_AUDIO
  
  Дополнительную информацию о разрешениях приложений можно найти в документации поAndroid.
  ВАЖНО! Эта функция предназначена только для Android только для цели.
   
  Синтаксис:
  os_request_permission(permission)
  
    
      
        Аргумент
        Описание
      
      
        разрешение
        Разрешение на запрос (строка)
      
    
  
   
  Возвращается:
  Н/Д
   
  Пример:
  if (os_type == os_android) {
     if (os_check_permission("android.permission.INTERNET") == os_permission_denied) {
     os_request_permission("android.permission.INTERNET");
     }
     }
  
  Приведенный выше код проверяет тип ОС и, если это Android, выполняет проверку разрешений и, если разрешение "INTERNET" еще не было предоставлено, запрашивает его.
   
   
   
  
    
      
        Назад: ОС и компилятор
        Следующий: GM_build_date
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

