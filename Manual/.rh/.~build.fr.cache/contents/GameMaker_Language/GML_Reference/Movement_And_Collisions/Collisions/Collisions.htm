
  
  Столкновения
  При планировании движений или принятии решений об определенных действиях часто важно посмотреть, есть ли столкновения с другими объектами в определенных местах игрового мира, и часто выбор подходящего столкновения является самой важной задачей.
    из всех. GameMaker Studio 2 имеет ряд встроенных функций, которые помогут вам правильно работать с коллизиями в соответствии с потребностями вашего проекта.
  ВАЖНО! Все функции столкновений работают с целочисленными позициями, независимо от входных значений. Любые нецелые значения будут округлены до ближайшего целого числа.
   
  Простая проверка столкновений
  В следующих функциях рассматриваются различные способы, с помощью которых можно заставить экземпляр проверять столкновения с другим экземпляром:
   
  
    место_пустое
    место_свободно
    место_заседания
    позиция_пустая
    позиция_совещания
    изменение_позиции
    уничтожение позиции
    место_объекта
    список_мест_экземпляров
    позиция экземпляра
    список_позиций_экземпляров
  
   
  Расширенная проверка столкновений
  Для этого можно использовать следующие функции (а также другие функции, подробно описанные в разделах " Перемещение " и " Экземпляры"). Все эти функции столкновений работают немного по-разному, но у них есть три общих аргумента
    которые мы объясним здесь:
  
    obj. Здесь мы указываем объект, столкновение с которым должна проверить функция. Это может быть идентификатор экземпляра, тип объекта или специальное ключевое слово GM all. Также стоит отметить, что если выбранный тип объекта является назначенным
     родителем других объектов, то все дочерние объекты этого типа также будут включены в эту проверку.
    prec. Это значение может быть либо true, либо false и относится к точности проверки столкновений. Если установлено значение true, то будут вычисляться точные столкновения (но только если проверяемый объект имеет значение "precise"
      отмечен для обнаружения столкновений в свойствах маски), что является немного более сложной задачей для CPU и поэтому должно использоваться с осторожностью. Если false, то столкновения будут рассчитываться на основе ограничительной рамки проверяемого объекта.
      для.
    notme. Вам может понадобиться проверить столкновения с объектом, который имеет тот же индекс, что и объект, выполняющий код, поэтому, чтобы код не нашел столкновения с самим собой, можно установить значение true. Если вы специально ищете
      экземпляр объекта, выполняющего код, или это не важно, можно оставить значение false.
  
  Базовые функции возвращают либо ID экземпляра, с которым произошло столкновение, либо специальное ключевое слово noone, если столкновения нет, а функции списка возвращают количество экземпляров, с которыми произошло столкновение, и заполняют список DS их ID.
    предварительно созданный список DS их идентификаторами. Обратите внимание, что если существует несколько столкновений с областями, определенными этими функциями, и экземплярами данного объекта, возвращается только один ID экземпляра, и это может быть любой из экземпляров в столкновении.
  Существуют следующие функции, которые работают с расширенными столкновениями.
   
  
    столкновение_круга
    список_кругов_коллизий
    столкновение_эллипса
    список_эллипсов_коллизий
    линия столкновения
    список_линий_коллизий
    точка_столкновения
    список_точек_столкновения
    прямоугольник столкновения
    список_прямоугольников_коллизий
  
   
  Проверка столкновений без маски
  Все вышеперечисленные функции относятся к экземплярам проверки столкновений и, как таковые, полагаются на маску столкновений, определенную для экземпляра. Тем не менее, существует множество моментов, когда требуется проверить "столкновения" с точкой
    или областью, особенно когда вашему экземпляру не назначен спрайт, или когда вы работаете с мышью и т.д.. Поэтому GameMaker Studio 2 также предоставляет следующие функции, которые помогут вам в таких ситуациях:
   
  
    точка_в_прямоугольнике
    точка_в_треугольнике
    точка_в_круге
    прямоугольник_в_прямоугольнике
    прямоугольник_в_треугольнике
    прямоугольник_в_круге
  
   
  Физические коллизии
  При использовании встроенной физики вышеуказанные функции столкновений не гарантируют работу для экземпляров с поддержкой физики. В основном это связано с тем, что эти экземпляры больше не используют большинство обычных встроенных переменных (вместо этого у экземпляров с поддержкой физики есть свой собственный набор переменных), а также не используют маску столкновения или ограничительную рамку, поскольку они
    имеют свой собственный набор переменных), а также не используют маску столкновения или ограничивающую рамку, так как вместо них используются фикстуры. Однако существует специальная функция для тестирования столкновений с включенной физикой, которая проверяет наличие перекрывающихся фикстур:
   
  
    физика_тест_перекрытие
  
   
   
   
  
    
      
        Назад: Движение и столкновения
        Следующее: Движение
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

