
  
  mp_grid_path
  С помощью этой функции вы можете создать путь, который будет проходить от начальной точки до конечной точки, используя mp_grid, которую вы ранее определили, избегая любых препятствий, которые уже были добавлены в сетку. Аргументы xstart и ystart
    указывают начало пути в координатах комнаты, а аргументы xgoal, ygoal - конечную точку. Вы также можете выбрать только горизонтальное/вертикальное движение или разрешить полное диагональное движение, указав true в аргументе allowdiag.
    Функция возвращает либо true (удалось найти путь), либо false (не удалось), а также устанавливает выбранный путь. На следующем рисунке показано, как все это работает вместе:
  Как вы видите, объекты "трубы" были добавлены в сетку, что означает, что любой
    созданный путь должен обойти их. На изображении создано два пути, один (зеленый) был сделан с учетом диагоналей, а другой (красный) - без них. Разница между ними довольно очевидна: зеленый путь выглядит гораздо более "элегантным"
    и прямым, но все зависит от того, для каких целей вы собираетесь их использовать. Обратите внимание, что путь не зависит от текущего экземпляра - это путь по сетке, а не путь для конкретного экземпляра, даже если конкретный экземпляр
    может иметь переменную, хранящую индекс пути. Вам также может понадобиться отладить эти пути, чтобы увидеть, как они создаются и взаимодействуют в игровой среде, и в этом случае вам следует использовать функцию draw_path() функцию.
  ПРИМЕЧАНИЕ: Путь должен быть создан ранее (либо в коде с помощью путь_добавить() или как ресурс)
    и будет заменен путем, сгенерированным этой функцией.
   
  Синтаксис:
  mp_grid_path(id, path, xstart, ystart, xgoal, ygoal, allowdiag);
  
    
      
        Аргумент
        Описание
      
      
        id
        Индекс mp_grid, который будет использоваться
      
      
        путь
        индекс пути, который будет использоваться функцией
      
      
        запуск
        Начальная координата x нового пути
      
      
        начало
        Начальная координата y нового пути
      
      
        xgoal
        Конечная координата x нового пути
      
      
        ygoal
        Конечная координата y нового пути
      
      
        allowdiag
        Указывает, разрешены ли диагональные перемещения, а не только горизонтальные или вертикальные
      
    
  
   
  Возвращается:
  Булево
   
  Пример:
  global.grid = mp_grid_create(0, 0, room_width div 32, room_height div 32, 32, 32); mp_grid_add_instances(global.grid, obj_wall, false); with (obj_Enemy) {
     path = path_add(); if mp_grid_path(global.grid, path, x, y, obj_Player.x, obj_Player.y, 1) {
     path_start(path, 0, 3, 0); }
     }
  
  Приведенный выше код создает глобальную переменную "global.grid", затем генерирует mp_grid и присваивает ее индекс (id) этой переменной для использования во всех дальнейших вызовах функции mp_grid. Затем он добавляет все экземпляры "obj_Wall" в сетку, прежде чем
    получает все экземпляры "obj_Enemy" для создания пути и затем использует mp_grid_path для расчета маршрута от их позиции до позиции "obj_Player". Если маршрут существует, то объект запускает себя по этому пути.
   
   
   
  
    
      
        Назад: Планирование движения
        Далее: mp_grid_add_cell
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

