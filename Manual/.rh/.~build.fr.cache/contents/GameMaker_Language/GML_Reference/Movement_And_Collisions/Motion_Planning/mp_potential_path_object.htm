
  
  mp_potential_path_object
  Эта функция рассчитывает путь для экземпляра от его текущего положения и ориентации до положения, указанного аргументами xgoal, ygoal. Она использует указанный размер шага, стараясь избежать столкновения с экземплярами объекта, указанного
    аргументом "obj". Как и в функции mp_potential_step() для этого используются шаги потенциального поля, а способ, которым это делается, может быть изменен с помощью функции mp_potential_settings().
    Указанный путь должен уже существовать, и он будет перезаписан новым путем. Функция возвращает, был ли найден путь (true) или нет (false).
  Чтобы функция не продолжала вычислять до бесконечности, необходимо задать коэффициент больше 1 - функция остановится и сообщит о неудаче, если не сможет найти путь короче, чем этот коэффициент, умноженный на расстояние от начала до цели. Коэффициент 4
    обычно достаточно, но если вы ожидаете длительных обходов, то можно сделать его больше. В случае неудачи все равно будет создан путь, проходящий в приблизительном направлении к цели, но он не достигнет ее.
  ПРИМЕЧАНИЕ: Эта функция не перемещает экземпляр. Она только задает путь, а для перемещения необходимо использовать функции Path.
   
  Синтаксис:
  mp_potential_path_object(path, xgoal, ygoal, stepize, factor, obj)
  
    
      
        Аргумент
        Описание
      
      
        путь
        индекс пути, который будет использоваться функцией
      
      
        xgoal
        Положение цели x.
      
      
        ygoal
        Положение цели по оси y.
      
      
        размер шага
        Скорость перемещения экземпляра в пикселях за шаг.
      
      
        фактор
        Это число используется для предотвращения бесконечного цикла. Оно должно быть больше 1. Более подробную информацию см. в описании функции.
      
      
        obj
        Объект, который должен преградить путь. Может быть индексом объекта, идентификатором экземпляра или специальным ключевым словом,all
      
    
  
   
  Возвращается:
  Булево
   
  Пример:
  path = path_add(); mp_potential_path_object(path, obj_Player.x, obj_Player.y, 3, 4, obj_Wall); path_start(path, 3, 0, 0);
  Приведенный выше код создает новый ресурс пути и сохраняет его индекс в переменной "path". Затем он генерирует путь с помощью mp_potential_path между объектом с этим кодом и объектом "obj_Player", проверяя столкновения
    с объектом "obj_Wall". Наконец, он запускает объект по этому пути, даже если функция не смогла вернуть полный маршрут к "obj_Player".
   
   
   
  
    
      
        Назад: Планирование движения
        Далее: mp_grid_create
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

