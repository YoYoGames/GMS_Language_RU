
  
  network_set_config
  С помощью этой функции можно задать различные конфигурации сети.
  ПРИМЕЧАНИЕ: Эта функция не будет работать при использовании в проекте, работающем на HTML5-цели.
  Эти конфигурации задаются в виде констант, и настройка будет зависеть от выбранной вами константы. В таблице ниже перечислены доступные константы и их настройки:
   
  
    
      
        Постоянная
        Описание
        Настройка
      
      
        network_config_connect_timeout
        Установите значение тайм-аута соединения
        Значение в миллисекундах
      
      
        network_config_use_non_blocking_socket
        Скажите GameMaker Studio 2 не блокировать при подключении.
        0 = блокировать, 1 = не блокировать
      
      
        network_config_enable_reliable_udp
        Включает протокол "надежный UDP" для существующего сокета UDP
        Идентификатор сокета, на который нужно нацелиться
      
      
        network_config_disable_reliable_udp
        Отключает протокол "надежный UDP" для существующего UDP socked.
        Идентификатор сокета, на который нужно нацелиться
      
      
        network_config_avoid_time_wait
        Устанавливает значение тайм-аута SO_LINGER равным 0 для существующего сокета TCP.
        Идентификатор сокета, на который нужно нацелиться
      
    
  
  
     Первая опция(network_config_connect_timeout) просто устанавливает тайм-аут для подключения к серверу, но не изменяет поведение соединения, кроме времени ожидания. Рекомендуется не устанавливать это значение слишком
    и держать его на уровне около 1000 для игры только по локальной сети или 4000 или около того для интернета, иначе игра может не подключаться случайным образом. Если вы хотите установить значение тайм-аута для отправки/получения пакетов, используйте функцию network_set_timeout().
  Второй вариант(network_config_use_non_blocking_socket) означает, что все функции подключения к сети будут мгновенно возвращать socket_id, но вы не сможете отправлять или получать по этому сокету, пока не получите асинхронное сетевое событие.
    У вызванного события ключ "type" будет установлен на network_type_non_blocking_connect ( более подробную информацию вы можете найти на странице Асинхронное сетевое событие).
    Это глобальная настройка, поскольку GameMaker Studio 2 не поддерживает смесь блокирующего и неблокирующего соединения в одном приложении.
  Третья и четвертая опции(network_config_enable_reliable_udp, network_config_disable_reliable_udp) предназначены для включения или отключения надежного UDP-протокола GameMaker Studio 2 и, соответственно, должны использоваться только для UDP-соединений.
    Слово "надежный" в данном случае означает, что при включении его на обоих концах соединения GameMaker Studio 2 будет пытаться проверить правильность доставки пакетов и повторно отправлять те из них, которые не дошли (обратите внимание, мы не гарантируем, что
    что ваши пакеты придут в порядке передачи). При использовании надежного типа сокета ко всем пакетам udp добавляется 12-байтовый заголовок, который содержит информацию, необходимую GameMaker Studio 2 для проверки пакета на наличие ошибок и повторной отправки недостающих пакетов.
    пакеты. При использовании этой опции стоит обратить внимание на следующие моменты:
  
    Протокол должен быть включен/выключен на обеих сторонах перед отправкой данных, и любые данные, отправленные или полученные до включения/выключения опции, не будут затронуты.
    Вы можете включать и выключать протокол для любого заданного идентификатора сокета несколько раз, если это правильно управляется как на стороне сервера, так и на стороне клиента.
    Можно иметь два отдельных сокета UDP, для одного из которых включен надежный UDP, а для другого он отключен.
  
  Последняя опция, network_config_avoid_time_wait, предназначена только для TCP-соединений и может быть использована для установки значения SO_LINGER в 0 , чтобы избежать большого количества соединений, находящихся в TIME_WAIT состоянии, связывающих все доступные ресурсы сервера. Это
    изменение является постоянным, пока сокет жив, и не может быть отменено.
   
  Синтаксис:
  network_set_config(config_value, setting);
  
    
      
        Аргумент
        Описание
      
      
        значение_конфигурации
        Константа конфигурации, которую нужно установить (см. таблицу в верхней части этой страницы).
      
      
        настройка
        Установка значения конфигурации.
      
    
  
   
  Возвращается:
  Строка
   
  Пример:
  network_set_config(network_config_connect_timeout, 1000); network_set_config(network_config_use_non_blocking_socket, 1);
  Приведенный выше код установит тайм-аут для сетевого соединения на 1000 мс и запретит GameMaker Studio 2 блокировать соединение.
   
   
   
  
    
      
        Назад: Работа в сети
        Далее: network_set_timeout
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

