
  
  steam_ugc_create_item
  Эта функция используется для подготовки API Workshop и генерирования опубликованного идентификатора файла для добавляемого элемента. Функция должна быть вызвана до выполнения каких-либо других действий с загружаемым элементом, так как вам потребуется использовать уникальное опубликованное значение
    ID, которое она возвращает в событии Steam Async Event для обновления. Чтобы использовать эту функцию, необходимо указать Steam App ID вашей игры и использовать одну из следующих констант для аргумента file_type:
   
  
    
      
        Постоянная
        Описание
      
      
        ugc_filetype_community
        Он используется для создания файлов, которые будут загружены и доступны любому члену сообщества.
      
      
        ugc_filetype_microtrans
        Используется для описания файлов, которые загружены, но предназначены только для игры, чтобы рассмотреть возможность добавления в качестве официального контента.
      
    
  
   При использовании этой функции возвращается асинхронное значение ID, которое затем может быть разобрано при срабатывании асинхронного события Steam для сообщения о создании
    элемента. Событие будет содержать следующие значения ключа/карты в файле async_load ds_map:
  
    " id" - Идентификатор async, возвращаемый вызывающей функцией
    "result" - Результат операции (вещественное значение). Это будет либо GML-константа ugc_result_success, либо какое-то другое вещественное число. Поэтому вы должны проверить наличие этой константы, чтобы убедиться, что вызов был успешным, и если
      в противном случае что-то сработало неправильно. Остальные возможные возвращаемые значения отображаются как результат значения Steam "EResult", и вы должны увидеть steamclientpublic .h в заголовках SDK для всех 89 возможных значений.
    " event_type" - Этот ключ будет содержать значение " ugc_create_item".
    " legal_agreement_required" - Будет true или false (см. документацию Steam для более подробной информации).
    "published_file_id" - Этот ключ хранит уникальный опубликованный ID для элемента, который представляет собой int64 (и вам может понадобиться привести его к такому виду при использовании в последующих функциях с помощью функции int64()      функция)
  
   
  Синтаксис:
  steam_ugc_create_item(consumer_app_id, file_type);
  
    
      
        Аргумент
        Описание
      
      
        идентификатор_приложения_потребителя
        Уникальный идентификатор приложения для вашей игры в Steam.
      
      
        тип файла
        Одна из доступных констант типа файла (перечислены ниже).
      
    
  
   
  Возвращается:
  Асинхронный идентификатор
   
  Расширенный пример:
  В этом примере мы сначала вызываем функцию и сохраняем значение идентификатора async в переменной:
  var app_id = steam_get_app_id(); new_item = steam_ugc_create_item(app_id, ugc_filetype_community);
  Затем он отправит запрос в Steam API для создания нового элемента Worksop, генерируя асинхронное событие, которое мы будем обрабатывать следующим образом:
  var event_id = async_load[? "id"]; if event_id == new_item {
     var type = async_load[? "event_type"]; if type == "ugc_create_item" {
     global.Publish_ID = async_load[? "published_file_id"]; }
     }
  
  Приведенный выше код проверяет тип события, и если это "ugc_create_item", то он извлекает ID опубликованного файла и сохраняет его в глобальной переменной для дальнейшего использования.
   
   
   
  
    
      
        Назад: UGC
        Далее: steam_ugc_start_item_update
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

