
  
  steam_ugc_get_item_update_progress
  Эта функция может быть использована для отслеживания статуса обновления элемента. Вы передаете хэндл элемента (возвращаемый функцией steam_ugc_start_item_update()) и пустую карту DS, которая затем будет заполнена следующими парами ключ/значение:
  
    "status_code" - Код статуса Steam
    "status_string" - Строка для текущего состояния
    " bytes_processed" - Количество байтов, обработанных на данный момент
    " bytes_total" - Общее количество байтов в обновлении
  
  Если произошла ошибка, функция вернет false и карта будет пустой, в противном случае функция вернет true.
   
  Синтаксис:
  steam_ugc_get_item_update_progress(ugc_update_handle, info_map);
  
    
      
        Аргумент
        Описание
      
      
        ugc_update_handle
        Уникальный идентификатор для обновляемого пользовательского центра.
      
      
        инфокарта
        (ранее созданный) индекс карты DS.
      
    
  
   
  Возвращается:
  Булево
   
  Пример:
  var uploadMap = ds_map_create(); steam_ugc_get_item_update_progress(global.itemHandle, uploadMap); var statusCode = uploadMap[? "status_code"]; var status = uploadMap[? "status_string"]; var processed = uploadMap[?
    "bytes_processed"]; var total = uploadMap[? "bytes_total"]; draw_text(32, 0, "Upload info for item:" + string(global.itemHandle)); draw_text(32, 15, "status code:" + string(statusCode)); draw_text(32, 30, "status:" + string(status)); draw_text(32, 45, "bytes processed:" + string(processed)); draw_text(32, 60, "bytes total:" + string( total)); ds_map_destroy(uploadMap);
  
  Приведенный выше код запрашивает статус загрузки элемента, проиндексированного в глобальной переменной "itemHandle", используя DS Map для хранения информации. Затем она анализируется, и полученные значения выводятся на экран.
   
   
   
  
    
      
        Назад: UGC
        Далее: steam_ugc_subscribe_item
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

