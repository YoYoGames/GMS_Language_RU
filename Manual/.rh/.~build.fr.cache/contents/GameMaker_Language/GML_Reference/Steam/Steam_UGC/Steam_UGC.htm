
  
  Пар
  Этот раздел предназначен для тех пользователей, которые получили доступ к API Steam для публикации своей игры на этой платформе и хотят использовать возможности, которые предоставляет Мастерская Steam и Сообщество, для добавления и создания пользовательского контента в ваших
    проектах. Простейшей формой пользовательского контента является возможность делать скриншоты и делиться ими, что облегчается с помощью следующих двух функций:
   
  
    steam_is_screenshot_requested
    steam_send_screenshot
  
   
  Остальные функции на этой странице связаны с использованием Steam Worksop, и некоторые из них требуют Steam App ID для вашего проекта, а также User ID для человека, играющего в игру, или его
    имя пользователя, которые можно найти с помощью следующих функций:
   
  
    steam_get_app_id
    steam_get_user_account_id
    steam_get_user_persona_name
  
   
  Перед использованием любой из встроенных функций Steam UGC(User Generated Content) API вам необходимо правильно настроить свою игру в панели Steam и ознакомиться с необходимой документацией, которая находится здесь
    документацию, которая находится здесь:
  
    Совместное использование пользовательского контента
  
  ПРИМЕЧАНИЕ: Вам необходимо, чтобы ваша игра была принята в онлайн-магазин Steam и имела доступ к разделам документации Steam API для разработчиков.
  Все подписанные элементы пользовательского контента будут загружаться клиентом Steam автоматически, и вы должны иметь код в асинхронном событииSteam, чтобы перехватить это и сохранить
    ID пользовательского контента, который был загружен, для использования в других функциях UGC.
  ВАЖНО! Идентификаторы Steam UGC ID могут быть огромными числами, превышающими 600 000 000. Это означает, что иногда вам может понадобиться хранить их в виде строки, а не пытаться сохранить их как реальное значение, особенно при работе с буферами или при попытке записать значение в
    текстовый файл (так как это преобразует его в упрощенный стандартный формат типа "6.6624e+003", что вызовет проблемы при обратном считывании).
  Обычный рабочий процесс для включения пользовательского контента в вашу игру будет выглядеть следующим образом:
  
    Пользователь подписывается на элемент (либо из вашей игры с помощью steam_ugc_subscribe_item() или из клиента/браузера.
    Ваша игра будет "слушать" новые подписки с помощью соответствующего кода в Steam Async Event.
    Когда вы получаете асинхронное событие подписки, вы можете проверить, установлен ли элемент (т.е. загружен ли он) с помощью функции steam_ugc_get_item_install_info().
    Если элемент не установлен, вам понадобится проверка с помощью steam_ugc_get_item_update_info() для отслеживания прогресса загрузки.
  
  В следующих разделах описаны все функции, необходимые для обеспечения функционирования UGC в GameMaker Studio 2:
   
  Создание и редактирование контента
  Следующие функции являются по сути "оберткой" функций, предоставляемых API Steam для создания и загрузки контента на серверы. Поэтому перед их использованием мы рекомендуем вам ознакомиться с документацией Steam по ссылке
    чтобы получить большее представление о том, как они работают: Создание и загрузка контента.
   
  
    steam_ugc_create_item
    steam_ugc_start_item_update
    steam_ugc_set_item_title
    steam_ugc_set_item_description
    steam_ugc_set_item_visibility
    steam_ugc_set_item_tags
    steam_ugc_set_item_content
    steam_ugc_set_item_preview
    steam_ugc_submit_item_update
    steam_ugc_get_item_update_progress
  
   
   
  Потребление контента
  После создания пользовательского контента и его загрузки в мастерской люди могут подписаться на него через приложение Steam или через веб-портал. Однако GameMaker Studio 2 также включает следующие функции для использования Steam
    API для создания и отмены подписок, а также для получения информации о том, на что пользователь подписан в данный момент:
   
  
    steam_ugc_subscribe_item
    steam_ugc_unsubscribe_item
    steam_ugc_num_subscribed_items
    steam_ugc_get_subscribed_items
    steam_ugc_get_item_install_info
    steam_ugc_get_item_update_info
    steam_ugc_request_item_details
  
   
   
  Запрос содержимого
  Существует также большое количество функций, позволяющих запрашивать API Steam о доступных пользовательских контентах:
   
  
    steam_ugc_create_query_user
    steam_ugc_create_query_user_ex
    steam_ugc_create_query_all
    steam_ugc_create_query_all_ex
    steam_ugc_query_set_cloud_filename_filter
    steam_ugc_query_set_match_any_tag
    steam_ugc_query_set_search_text
    steam_ugc_query_set_ranked_by_trend_days
    steam_ugc_query_add_required_tag
    steam_ugc_query_add_excluded_tag
    steam_ugc_query_set_return_long_description
    steam_ugc_query_set_return_total_only
    steam_ugc_query_set_allow_cached_response
    steam_ugc_send_query
  
   
  Вы можете получить изображение предварительного просмотра любого пользовательского контента из мастерской, используя функцию steam_ugc_send_query (), чтобы получить handle файла предварительного просмотра изображения, а затем вызвать следующую функцию:
  
    steam_ugc_download
  
   
   
   
  
    
      
        Назад: Steam
        Следующий: Общий API Steam
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

