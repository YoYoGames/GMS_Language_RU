
  
  повторить
  В языке GameMaker есть несколько способов выполнения циклов, т.е. чтобы оператор или операторы повторяли друг друга определенное количество раз. Самым простым из них является оператор repeat, который имеет вид:
  repeat (<выражение>) { <выражение>; <выражение>;... }
  При использовании функции repeat данное утверждение повторяется столько раз, сколько указано в округленном значении выражения. Для
    Например, следующее выражение создает пять шариков в случайных позициях:
  повторить (5) {
     instance_create_layer(random(400), random(400), "Instances", obj_ball); }
  
  Это может быть очень полезно, чтобы не набирать один и тот же код несколько раз, или для использования массивов, или для подсчета количества операций и т.д.. Вы также не ограничены использованием одного оператора, и можете повторять несколько операторов, заключив
    их в фигурные скобки {}. Например:
  var _x = 32; repeat (global.p_lives) { draw_sprite(spr_heart, 0, _x, 32); _x += sprite_get_width(spr_heart); }
  Приведенный выше пример повторяет утверждения в фигурных скобках столько итераций, сколько итерацийимеет глобальная переменная "lives", и каждая итерация рисует
    спрайт сердца в позиции _x, а затем перемещает позицию на бит в зависимости от ширины спрайта сердца.
  Когда следует использовать цикл repeat? В любое время, когда вы хотите повторить одно или несколько утверждений фиксированное количество раз без необходимости вести подсчет итераций.
  Стоит отметить, что вы можете использовать специальные утверждения break и continue в пределах
    повторить цикла. Использование break приведет к немедленному выходу из цикла и переходу к любому коду, который находится в событии или функции после того, как цикл должен был завершиться, например
  var i = 0; var temp = 0; repeat (10) { temp += array[i]; if (temp > max_total) { break; }  else { i += 1; }  }
  В приведенном выше коде в цикле просматриваются 10 значений массива и добавляются в локальную переменную. Если сумма локальной переменной больше заданного значения для max_total, то цикл завершается с помощью функции
    break, в противном случае цикл будет продолжен. 
  Примером использования continue в цикле repeat может быть:
  repeat(10) {  var _x = random(room_width); var _y = random(room_height); if (instance_position(_x, y, obj_Enemy) {
     continue;
     }
     instance_create_layer(_x, _y, "Instances", obj_Enemy); }
  Этот код повторится 10 раз, генерируя случайную позицию комнаты и проверяя, существует ли экземпляр объекта obj_Enemy в этой позиции. Если да, то текущая итерация цикла завершается с помощью continue и начинается новая итерация, а если нет, то в случайной позиции создается экземпляр объекта obj_Enemy.
  Другие примеры функций цикла см. в разделах while, do ... until, и для.
   
   
   
  
    
      
        Назад: Особенности языка
        Далее: while
      
    
    © Copyright YoYo Games Ltd. 2021 Все права защищены
  
  
  

